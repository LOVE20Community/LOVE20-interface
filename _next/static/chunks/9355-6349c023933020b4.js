"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9355],{34426:function(e,s,t){t.d(s,{Z:function(){return o}});var n=t(85893),a=t(67294),l=t(23432),r=t(93461),c=t(92321),i=t(89469),d=t(86501);function o(e){let{tokenAddress:s,tokenSymbol:t,tokenDecimals:o,tokenImage:m}=e,[x,u]=(0,a.useState)(!1),{isConnected:h}=(0,c.m)(),{data:j}=(0,i.p)(),v=async()=>{if(!h){alert("请先连接你的钱包");return}u(!0);try{if(!j){alert("无法获取钱包客户端");return}await j.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:s,symbol:t,decimals:o,image:m}}})?(console.log("代币已添加到 MetaMask 钱包"),d.ZP.success("代币已成功添加到 MetaMask 钱包")):(console.log("用户拒绝添加代币"),d.ZP.error("用户拒绝添加代币"))}catch(e){console.error("添加代币失败:",e),d.ZP.error("添加代币失败，请检查控制台以获取更多信息")}finally{u(!1)}};return(0,n.jsx)("button",{onClick:v,disabled:x,className:"flex items-center justify-center p-1 rounded hover:bg-gray-200 focus:outline-none",children:x?(0,n.jsx)(l.Z,{className:"h-4 w-4 animate-spin"}):(0,n.jsx)(r.Z,{className:"h-4 w-4 text-greyscale-500"})})}},74089:function(e,s,t){var n=t(85893),a=t(67294);s.Z=e=>{let{initialTimeLeft:s}=e,[t,l]=(0,a.useState)(s);(0,a.useEffect)(()=>{if(s<=0)return;l(s);let e=setInterval(()=>{l(s=>s<=1?(clearInterval(e),window.location.reload(),0):s-1)},1e3);return()=>{clearInterval(e)}},[s]);let r=Math.floor(t/86400);return(0,n.jsxs)("div",{className:"inline-flex gap-1  text-secondary",children:[r>0&&(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"countdown font-mono",children:(0,n.jsx)("span",{style:{"--value":r}})}),"天"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"countdown font-mono",children:(0,n.jsx)("span",{style:{"--value":Math.floor(t%86400/3600)}})}),"时"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"countdown font-mono",children:(0,n.jsx)("span",{style:{"--value":Math.floor(t%3600/60)}})}),"分"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"countdown font-mono",children:(0,n.jsx)("span",{style:{"--value":t%60}})}),"秒"]})]})}},66247:function(e,s,t){t.d(s,{Z:function(){return m}});var n=t(85893),a=t(67294),l=t(93778),r=t(19638),c=t(42083),i=t(27460),d=t(34426),o=e=>{let{}=e,{token:s}=(0,a.useContext)(l.M)||{};return s?(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsx)("div",{className:"mr-2",children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("span",{className:"font-bold text-2xl mr-2",children:s.symbol}),(0,n.jsx)(i.Z,{address:s.address}),(0,n.jsx)(d.Z,{tokenAddress:null==s?void 0:s.address,tokenSymbol:(null==s?void 0:s.symbol)||"",tokenDecimals:(null==s?void 0:s.decimals)||0})]})})}):(0,n.jsx)(c.Z,{})};function m(){let{token:e}=(0,a.useContext)(l.M)||{},{totalSupply:s,isPending:t,error:i}=(0,r.A5)((null==e?void 0:e.address)||""),[d,m]=(0,a.useState)(!1);return(null==e?void 0:e.address)?(0,n.jsxs)("div",{className:"px-6 pt-2 pb-6",children:[(0,n.jsx)(o,{}),!1]}):(0,n.jsx)(c.Z,{})}},79355:function(e,s,t){t.r(s),t.d(s,{default:function(){return Z}});var n=t(85893),a=t(67294),l=t(93778),r=t(70019),c=t(58732),i=t(42083),d=t(91529),o=t(3125);let m={totalSupply:1e28,fairLaunch:1e27,govRewards:45e26,actionRewards:45e26};var x=t(74089),u=e=>{let{token:s,launchInfo:t}=e,{data:a}=(0,o.O)(),l=a?t.secondHalfMinBlocks-(a-t.secondHalfStartBlock):0,r=l>0?Number(l)*Number("12"):0,c=Number(t.totalContributed)/Number(t.parentTokenFundraisingGoal);return t?s?(0,n.jsxs)("div",{className:"flex-col items-center px-6",children:[(0,n.jsxs)("div",{className:"stats w-full grid grid-cols-2 divide-x-0",children:[(0,n.jsxs)("div",{className:"stat place-items-center",children:[(0,n.jsxs)("div",{className:"stat-title text-sm",children:[(0,n.jsxs)("span",{className:"text-secondary",children:[s.symbol," "]}),"发射总量"]}),(0,n.jsx)("div",{className:"stat-value text-xl",children:"".concat((0,d.LH)(BigInt(m.fairLaunch)))})]}),(0,n.jsxs)("div",{className:"stat place-items-center",children:[(0,n.jsxs)("div",{className:"stat-title text-sm",children:[(0,n.jsxs)("span",{className:"text-secondary",children:[s.parentTokenSymbol," "]}),"筹集目标"]}),(0,n.jsx)("div",{className:"stat-value text-xl",children:(0,d.LH)(t.parentTokenFundraisingGoal)})]})]}),(0,n.jsx)("div",{className:"stats w-full border",children:(0,n.jsxs)("div",{className:"stat place-items-center",children:[(0,n.jsx)("div",{className:"stat-title text-sm mr-6 ".concat(t.hasEnded?"text-secondary":""),children:t.hasEnded?"发射已结束":"已筹集到"}),(0,n.jsxs)("div",{className:"stat-value",children:[t.hasEnded&&(0,n.jsx)("span",{className:"text-greyscale-500 font-normal text-sm mr-2",children:"共筹得"}),(0,n.jsx)("span",{className:"".concat(t.hasEnded?"":"text-secondary"),children:(0,d.LH)(t.totalContributed)}),(0,n.jsx)("span",{className:"text-greyscale-500 font-normal text-sm ml-2",children:s.parentTokenSymbol})]}),(0,n.jsxs)("div",{className:"stat-desc pt-2",children:[t.hasEnded&&"超出筹集目标的 ".concat(s.parentTokenSymbol," 在申领时退还"),!t.hasEnded&&c<.5&&"筹集达到 50% 开始倒计时",!t.hasEnded&&c>=.5&&l<=0&&"筹集达到 100% 即结束发射",!t.hasEnded&&c>=.5&&l>0&&(0,n.jsxs)(n.Fragment,{children:[c<1?"发射结束至少要":"距离发射结束","：",(0,n.jsx)(x.Z,{initialTimeLeft:r})]})]})]})}),(0,n.jsxs)("div",{className:"bg-gray-100 text-greyscale-500 rounded-lg p-4 mt-2 text-sm",children:[(0,n.jsx)("p",{className:"mb-1 font-medium",children:"经济模型："}),(0,n.jsxs)("p",{children:["1. 代币总量：",(0,d.LH)(BigInt(m.totalSupply))]}),(0,n.jsxs)("p",{children:["2. 发射数量：",(0,d.LH)(BigInt(m.fairLaunch))," (10%)"]}),(0,n.jsxs)("p",{children:["3. 治理激励：",(0,d.LH)(BigInt(m.govRewards))," (45%)"]}),(0,n.jsxs)("p",{children:["4. 行动激励：",(0,d.LH)(BigInt(m.actionRewards))," (45%)"]}),(0,n.jsx)("p",{className:"mt-2 mb-1 font-medium",children:"发射规则："}),(0,n.jsx)("p",{children:"1. 代币发放：按申购数量占比比例发放"}),(0,n.jsx)("p",{children:"2. 超过募集目标的父币，将按申购比例返还"})]})]}):(0,n.jsx)(i.Z,{}):(0,n.jsx)("div",{className:"text-red-500",children:"找不到发射信息"})},h=t(92321),j=t(27245),v=t(41664),N=t.n(v),f=t(64777),p=e=>{let{token:s,launchInfo:t}=e,{address:a}=(0,h.m)(),{contributed:l,isPending:c,error:i}=(0,r.ap)(null==s?void 0:s.address,a);return s?(0,n.jsxs)("div",{className:"p-6",children:[(0,n.jsx)(f.Z,{title:"参与申购"}),(0,n.jsx)("div",{className:"stats w-full",children:(0,n.jsxs)("div",{className:"stat place-items-center",children:[(0,n.jsx)("div",{className:"stat-title text-sm mr-6",children:"我的申购质押"}),(0,n.jsxs)("div",{className:"stat-value text-secondary",children:[(0,d.LH)(l||0n),(0,n.jsx)("span",{className:"text-greyscale-500 font-normal text-sm ml-2",children:s.parentTokenSymbol})]})]})}),(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)(j.z,{variant:"outline",size:"sm",className:"w-1/2 text-secondary border-secondary",asChild:!0,children:(0,n.jsx)(N(),{href:"/".concat(s.symbol,"/launch/contribute"),children:"去申购"})})})]}):""},y=t(86501),g=e=>{let{token:s,launchInfo:t}=e,{address:c}=(0,h.m)(),{setToken:o}=(0,a.useContext)(l.M)||{},{contributed:x,isPending:u,error:v}=(0,r.ap)(null==s?void 0:s.address,c),{claimed:N,isPending:p,error:g}=(0,r.ur)(null==s?void 0:s.address,c),{extraRefunded:b,isPending:w,error:k}=(0,r.Vh)(null==s?void 0:s.address,c),Z=t.totalContributed?BigInt(m.fairLaunch)*(x||0n)/BigInt(t.totalContributed):0n,{claim:C,isWriting:I,writeError:E,isConfirming:L,isConfirmed:M}=(0,r.z7)(),B=async()=>{try{await C(null==s?void 0:s.address)}catch(e){console.error("领取失败:",e)}};return((0,a.useEffect)(()=>{M?(y.ZP.success("领取成功"),null==o||o({...s,hasEnded:!0}),setTimeout(()=>{window.location.reload()},2e3)):E&&y.ZP.error("领取失败")},[M,E]),p)?(0,n.jsx)(i.Z,{}):(0,n.jsxs)("div",{className:"p-6",children:[(0,n.jsx)(f.Z,{title:"我的领取"}),(0,n.jsx)("div",{className:"stats w-full border mt-4",children:(0,n.jsxs)("div",{className:"stat place-items-center",children:[(0,n.jsx)("div",{className:"stat-title text-sm mr-6",children:"共获得"}),(0,n.jsxs)("div",{className:"stat-value text-secondary",children:[(0,d.LH)(Z),(0,n.jsx)("span",{className:"text-greyscale-500 font-normal text-sm ml-2",children:s.symbol})]})]})}),(0,n.jsxs)("div",{className:"stats w-full grid grid-cols-2 divide-x-0",children:[(0,n.jsx)("div",{className:"stat place-items-center",children:(0,n.jsxs)("div",{className:"stat-value text-xl",children:[(0,n.jsx)("span",{className:"text-sm font-normal text-greyscale-500",children:"质押 "}),(0,d.LH)(x||0n),u?(0,n.jsx)(i.Z,{}):(0,n.jsx)("span",{className:"text-sm font-normal text-greyscale-500 ml-1",children:null==s?void 0:s.parentTokenSymbol})]})}),(0,n.jsx)("div",{className:"stat place-items-center",children:(0,n.jsxs)("div",{className:"stat-value text-xl",children:[(0,n.jsx)("span",{className:"text-sm font-normal text-greyscale-500",children:"退回 "}),(0,d.LH)(b||0n),w?(0,n.jsx)(i.Z,{}):(0,n.jsx)("span",{className:"text-sm font-normal text-greyscale-500 ml-1",children:null==s?void 0:s.parentTokenSymbol})]})})]}),(0,n.jsxs)("div",{className:"flex justify-center",children:[0>=Number(x)&&(0,n.jsx)(j.z,{className:"w-1/2",disabled:!0,children:"未申购"}),Number(x)>0&&!N&&(0,n.jsx)(j.z,{className:"w-1/2",onClick:B,disabled:I||L,children:I||L?"领取中...":"领取"}),Number(x)>0&&N&&(0,n.jsx)(j.z,{className:"w-1/2",disabled:!0,children:"已领取"})]}),E&&(0,n.jsx)("div",{className:"text-red-500",children:E.message}),v&&(0,n.jsx)("div",{className:"text-red-500",children:v.message}),k&&(0,n.jsx)("div",{className:"text-red-500",children:k.message}),g&&(0,n.jsx)("div",{className:"text-red-500",children:g.message})]})},b=t(66247);let w=(0,t(31134).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var k=e=>{let{token:s,launchInfo:t}=e;return(0,n.jsxs)("div",{className:"p-6",children:[(0,n.jsx)(f.Z,{title:"部署子币"}),(0,n.jsx)("div",{className:"w-full text-center",children:(0,n.jsx)(j.z,{variant:"outline",size:"sm",className:"mt-2 w-1/2 text-secondary border-secondary",asChild:!0,children:(0,n.jsxs)(N(),{href:"/".concat(null==s?void 0:s.symbol,"/launch/deploy"),children:[(0,n.jsx)(w,{className:"w-4 h-4"}),"去部署"]})})}),(0,n.jsxs)("div",{className:"bg-gray-100 text-greyscale-500 rounded-lg p-4 text-sm mt-4",children:[(0,n.jsx)("p",{className:"mb-1",children:"说明："}),(0,n.jsxs)("p",{children:["1. 部署者：须持有$",null==s?void 0:s.symbol,"不少于 0.5%的治理票"]}),(0,n.jsxs)("p",{children:["2. 子币发射目标：须筹集 20,000,000个 ",null==s?void 0:s.symbol]})]})]})};function Z(){let{token:e}=(0,a.useContext)(l.M)||{token:null},{launchInfo:s,isPending:t,error:d}=(0,r.zL)(e?e.address:"0x0");return t?(0,n.jsx)(i.Z,{}):d?(0,n.jsx)("div",{className:"text-red-500",children:"加载发射信息失败"}):s?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Z,{title:"Launch"}),(0,n.jsxs)("main",{className:"flex-grow",children:[(0,n.jsx)(b.Z,{}),(0,n.jsx)(u,{token:e,launchInfo:s}),!s.hasEnded&&e&&(0,n.jsx)(p,{token:e,launchInfo:s}),s.hasEnded&&e&&(0,n.jsx)(g,{token:e,launchInfo:s}),s.hasEnded&&e&&(0,n.jsx)(k,{token:e,launchInfo:s})]})]}):(0,n.jsx)("div",{className:"text-red-500",children:"找不到发射信息"})}},3125:function(e,s,t){t.d(s,{O:function(){return x}});var n=t(30202),a=t(97712),l=t(81946),r=t(36100),c=t(82451),i=t(82002),d=t(37122),o=t(65185),m=t(67294);function x(e={}){let{query:s={},watch:t}=e,x=(0,d.Z)(e),u=(0,n.NL)(),h=(0,i.x)({config:x}),j=e.chainId??h,v=function(e,s={}){return{gcTime:0,async queryFn({queryKey:s}){let{scopeKey:t,...n}=s[1];return await function(e,s={}){let{chainId:t,...n}=s,r=e.getClient({chainId:t});return(0,l.s)(r,a.z,"getBlockNumber")(n)}(e,n)??null},queryKey:function(e={}){return["blockNumber",(0,r.OP)(e)]}(s)}}(x,{...e,chainId:j});return!function(e={}){let{enabled:s=!0,onBlockNumber:t,config:n,...a}=e,r=(0,d.Z)(e),c=(0,i.x)({config:r}),x=e.chainId??c;(0,m.useEffect)(()=>{if(s&&t)return function(e,s){let t,n;let{syncConnectedChain:a=e._internal.syncConnectedChain,...r}=s,c=s=>{t&&t();let n=e.getClient({chainId:s});return t=(0,l.s)(n,o.q,"watchBlockNumber")(r)},i=c(s.chainId);return a&&!s.chainId&&(n=e.subscribe(({chainId:e})=>e,async e=>c(e))),()=>{i?.(),n?.()}}(r,{...a,chainId:x,onBlockNumber:t})},[x,r,s,t,a.onError,a.emitMissed,a.emitOnBegin,a.poll,a.pollingInterval,a.syncConnectedChain])}({...{config:e.config,chainId:e.chainId,..."object"==typeof t?t:{}},enabled:!!((s.enabled??!0)&&("object"==typeof t?t.enabled:t)),onBlockNumber(e){u.setQueryData(v.queryKey,e)}}),(0,c.aM)({...s,...v})}}}]);