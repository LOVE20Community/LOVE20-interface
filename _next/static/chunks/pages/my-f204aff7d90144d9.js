(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9236],{89245:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/my",function(){return t(29226)}])},29226:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return y}});var l=t(85893),n=t(35337),r=t(92321),a=t(67294),i=t(93778),d=t(19638),c=t(91529),x=t(91318),o=t(27245),m=t(41664),u=t.n(m),h=()=>{let{token:e}=(0,a.useContext)(i.M)||{},{address:s}=(0,r.m)(),{balance:t,isPending:n,error:m}=(0,d.hS)(null==e?void 0:e.address,s);return n?(0,l.jsx)(x.Z,{}):m?(0,l.jsxs)("div",{children:["错误: ",m.message]}):(0,l.jsxs)("div",{className:"flex flex-col items-center max-w-4xl mx-auto p-4 bg-white mb-4 border-t border-gray-100",children:[(0,l.jsx)("p",{className:"text-gray-500 text-sm",children:"持有代币数量"}),(0,l.jsxs)("p",{className:"mt-2",children:[n?(0,l.jsx)(x.Z,{}):(0,l.jsx)("span",{className:"text-orange-500 text-2xl font-bold",children:(0,c.LH)(t||0n)}),(0,l.jsx)("span",{className:"text-gray-500 ml-2",children:null==e?void 0:e.symbol})]}),(0,l.jsx)(o.z,{className:"mt-2 w-1/2 bg-blue-600 hover:bg-blue-700",asChild:!0,children:(0,l.jsx)(u(),{href:"/dex/swap",children:"去交易"})})]})},f=t(5028),j=()=>{let{token:e}=(0,a.useContext)(i.M)||{},{address:s}=(0,r.m)(),{stakedAmount:t,isPending:n,error:d}=(0,f.Mn)(null==e?void 0:e.address,s);return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"w-full flex flex-col items-center rounded p-4 bg-white mt-4",children:[(0,l.jsx)("div",{className:"w-full text-left mb-4",children:(0,l.jsx)("h2",{className:"relative pl-4 text-gray-700 text-base font-medium before:content-[''] before:absolute before:left-0 before:top-0 before:bottom-0 before:w-1 before:bg-red-500",children:"我参与行动的资产"})}),n?(0,l.jsx)(x.Z,{}):(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-sm text-gray-500 mr-4",children:"行动锁定代币总量"}),(0,l.jsx)("span",{className:"text-2xl font-bold text-orange-400 mr-1",children:(0,c.LH)(t||BigInt(0))}),(0,l.jsx)("span",{className:"text-sm text-gray-500",children:null==e?void 0:e.symbol})]}),d&&(0,l.jsx)("div",{className:"text-red-500",children:d.message})]})})},g=t(92180),b=()=>{let{token:e}=(0,a.useContext)(i.M)||{},{address:s}=(0,r.m)(),{slAmount:t,stAmount:n,promisedWaitingRounds:d,requestedUnstakeRound:m,govVotes:h,isPending:f,error:j}=(0,g.L)(null==e?void 0:e.address,s);return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"w-full flex flex-col items-center rounded p-4 bg-white mt-1",children:[(0,l.jsx)("div",{className:"w-full text-left mb-4",children:(0,l.jsx)("h2",{className:"relative pl-4 text-gray-700 text-base font-medium before:content-[''] before:absolute before:left-0 before:top-0 before:bottom-0 before:w-1 before:bg-red-500",children:"我参与治理的资产"})}),(0,l.jsxs)("div",{className:"flex w-full justify-center",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center flex-1",children:[(0,l.jsx)("span",{className:"text-sm text-gray-500",children:"流动性质押"}),(0,l.jsx)("span",{className:"text-2xl font-bold text-orange-400",children:f?(0,l.jsx)(x.Z,{}):(0,c.LH)(t||BigInt(0))})]}),(0,l.jsxs)("div",{className:"flex flex-col items-center flex-1",children:[(0,l.jsx)("span",{className:"text-sm text-gray-500",children:"质押代币"}),(0,l.jsx)("span",{className:"text-2xl font-bold text-orange-400",children:f?(0,l.jsx)(x.Z,{}):(0,c.LH)(n||BigInt(0))})]})]}),(0,l.jsxs)("div",{className:"flex w-full justify-center mt-2",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center flex-1",children:[(0,l.jsx)("span",{className:"text-sm text-gray-500",children:"承诺释放间隔轮次"}),(0,l.jsxs)("span",{children:[(0,l.jsx)("span",{className:"text-2xl font-bold text-orange-400",children:f?(0,l.jsx)(x.Z,{}):"".concat(d||BigInt(0))}),(0,l.jsx)("span",{className:"text-sm text-gray-500",children:" 轮"})]})]}),(0,l.jsxs)("div",{className:"flex flex-col items-center flex-1",children:[(0,l.jsx)("span",{className:"text-sm text-gray-500",children:"治理票数"}),(0,l.jsx)("span",{className:"text-2xl font-bold text-orange-400",children:f?(0,l.jsx)(x.Z,{}):(0,c.LH)(h||BigInt(0))})]})]}),(0,l.jsx)("div",{className:"flex w-full justify-center mt-2",children:(0,l.jsx)(o.z,{className:"w-1/2 bg-blue-600 hover:bg-blue-700",asChild:!0,children:(0,l.jsx)(u(),{href:"/my/govrewards",children:"查看治理奖励"})})})]})})},N=t(94782),v=t(45551),p=()=>{let{token:e}=(0,a.useContext)(i.M)||{},{address:s}=(0,r.m)(),{joinedActions:t,isPending:n,error:d}=(0,v.dB)((null==e?void 0:e.address)||"",s),{actionInfos:o,isPending:m,error:h}=(0,N.fT)((null==e?void 0:e.address)||"",(null==t?void 0:t.map(e=>e.actionId))||[]);return n||t&&t.length>0&&m?(0,l.jsx)(x.Z,{}):d?(0,l.jsx)("div",{children:"加载出错，请稍后再试。"}):(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsx)("h2",{className:"text-sm font-bold mb-4 text-gray-600",children:"我参与的行动"}),(null==t?void 0:t.length)?(0,l.jsx)("div",{className:"space-y-4",children:null==t?void 0:t.map((e,s)=>{var t,n;return(0,l.jsx)("div",{className:"bg-white p-4 rounded-lg mb-4",children:(0,l.jsxs)(u(),{href:"/my/actrewards?id=".concat(e.actionId),children:[(0,l.jsxs)("div",{className:"font-semibold mb-2",children:[(0,l.jsx)("span",{className:"text-gray-400 text-base mr-1",children:"No.".concat(e.actionId)}),(0,l.jsx)("span",{className:"text-gray-800 text-lg",children:null==o?void 0:null===(t=o[s])||void 0===t?void 0:t.body.action})]}),(0,l.jsx)("p",{className:"leading-tight",children:null==o?void 0:null===(n=o[s])||void 0===n?void 0:n.body.consensus}),(0,l.jsxs)("div",{className:"flex justify-between mt-1",children:[(0,l.jsxs)("span",{className:"text-sm",children:["参与到第 ",e.lastJoinedRound.toString()," 轮"]}),(0,l.jsxs)("span",{className:"text-sm",children:["参与代币数量：",(0,c.LH)(e.stakedAmount)]})]})]},e.actionId)},e.actionId)})}):(0,l.jsx)("div",{className:"text-sm text-gray-500 text-center",children:"没有行动"}),d&&(0,l.jsx)("div",{children:d.message}),h&&(0,l.jsx)("div",{children:h.message})]})},y=()=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.Z,{title:"我的"}),(0,l.jsxs)("main",{className:"flex-grow",children:[(0,l.jsx)(h,{}),(0,l.jsx)(b,{}),(0,l.jsx)(j,{}),(0,l.jsx)(p,{})]})]})},21803:function(e,s,t){"use strict";function l(e,s){let[t,l="0"]=e.split("."),n=t.startsWith("-");if(n&&(t=t.slice(1)),l=l.replace(/(0+)$/,""),0===s)1===Math.round(Number(`.${l}`))&&(t=`${BigInt(t)+1n}`),l="";else if(l.length>s){let[e,n,r]=[l.slice(0,s-1),l.slice(s-1,s),l.slice(s)],a=Math.round(Number(`${n}.${r}`));(l=a>9?`${BigInt(e)+BigInt(1)}0`.padStart(e.length+1,"0"):`${e}${a}`).length>s&&(l=l.slice(1),t=`${BigInt(t)+1n}`),l=l.slice(0,s)}else l=l.padEnd(s,"0");return BigInt(`${n?"-":""}${t}${l}`)}t.d(s,{v:function(){return l}})},89810:function(e,s,t){"use strict";t.d(s,{u:function(){return d}});var l=t(37003),n=t(36100),r=t(82451),a=t(82002),i=t(37122);function d(e={}){let{abi:s,address:t,functionName:d,query:c={}}=e,x=e.code,o=(0,i.Z)(e),m=(0,a.x)({config:o}),u=function(e,s={}){return{async queryFn({queryKey:t}){let n=s.abi;if(!n)throw Error("abi is required");let{functionName:r,scopeKey:a,...i}=t[1],d=(()=>{let e=t[1];if(e.address)return{address:e.address};if(e.code)return{code:e.code};throw Error("address or code is required")})();if(!r)throw Error("functionName is required");return(0,l.L)(e,{abi:n,functionName:r,args:i.args,...d,...i})},queryKey:function(e={}){let{abi:s,...t}=e;return["readContract",(0,n.OP)(t)]}(s)}}(o,{...e,chainId:e.chainId??m}),h=!!((t||x)&&s&&d&&(c.enabled??!0));return(0,r.aM)({...c,...u,enabled:h,structuralSharing:c.structuralSharing??n.if})}}},function(e){e.O(0,[9215,8424,6789,2432,3601,5551,765,2888,9774,179],function(){return e(e.s=89245)}),_N_E=e.O()}]);