(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[788],{68786:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/launch",function(){return a(17607)}])},27460:function(e,s,a){"use strict";var t=a(85893),l=a(86501),n=a(74855),c=a(18289),r=a(91529);s.Z=e=>{let{address:s,showCopyButton:a=!0,showAddress:i=!0,colorClassName:d=""}=e;return(0,t.jsxs)("span",{className:"flex items-center space-x-2",children:[i&&(0,t.jsx)("span",{className:"text-xs ".concat(null!=d?d:"text-greyscale-500"),children:(0,r.Vu)(s)}),a&&(0,t.jsx)(n.CopyToClipboard,{text:s,onCopy:(e,s)=>{s?l.ZP.success("复制成功"):l.ZP.error("复制失败")},children:(0,t.jsx)("button",{className:"flex items-center justify-center p-1 rounded hover:bg-gray-200 focus:outline-none",onClick:e=>{e.preventDefault(),e.stopPropagation()},"aria-label":"复制地址",children:(0,t.jsx)(c.Z,{className:"h-4 w-4 ".concat(null!=d?d:"text-greyscale-500")})})})]})}},44576:function(e,s,a){"use strict";var t=a(85893);a(67294);var l=a(23432);s.Z=e=>{let{isLoading:s,text:a="Loading"}=e;return s?(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gray-900 bg-opacity-50",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(l.Z,{className:"mx-auto h-8 w-8 animate-spin text-white"}),(0,t.jsx)("p",{className:"mt-2 text-sm font-medium text-white",children:a})]})}):null}},17607:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return Z}});var t=a(85893),l=a(67294),n=a(93778),c=a(70019),r=a(58732),i=a(42083),d=a(91529),x=a(42757),m=a(37413),o=a(74089),h=e=>{let{token:s,launchInfo:a}=e,{data:l}=(0,x.O)(),n=l?a.secondHalfMinBlocks-(l-a.secondHalfStartBlock):0,c=n>0?Number(n)*Number("12"):0,r=Number(a.totalContributed)/Number(a.parentTokenFundraisingGoal),h=(100*r).toFixed(1);return a?s?(0,t.jsxs)("div",{className:"flex-col items-center px-6",children:[(0,t.jsxs)("div",{className:"stats w-full grid grid-cols-2 divide-x-0",children:[(0,t.jsxs)("div",{className:"stat place-items-center",children:[(0,t.jsxs)("div",{className:"stat-title text-sm",children:[(0,t.jsxs)("span",{className:"text-secondary",children:[s.symbol," "]}),"发射总量"]}),(0,t.jsx)("div",{className:"stat-value text-xl",children:"".concat((0,d.LH)(BigInt(m.v.fairLaunch)))})]}),(0,t.jsxs)("div",{className:"stat place-items-center",children:[(0,t.jsxs)("div",{className:"stat-title text-sm",children:[(0,t.jsxs)("span",{className:"text-secondary",children:[s.parentTokenSymbol," "]}),"筹集目标"]}),(0,t.jsx)("div",{className:"stat-value text-xl",children:(0,d.LH)(a.parentTokenFundraisingGoal)})]})]}),(0,t.jsx)("div",{className:"stats w-full border",children:(0,t.jsxs)("div",{className:"stat place-items-center",children:[(0,t.jsx)("div",{className:"stat-title text-sm mr-6 ".concat(a.hasEnded?"text-secondary":""),children:a.hasEnded?"发射已结束":"已筹集到"}),(0,t.jsxs)("div",{className:"stat-value",children:[a.hasEnded&&(0,t.jsx)("span",{className:"text-greyscale-500 font-normal text-sm mr-2",children:"共筹得"}),(0,t.jsx)("span",{className:"".concat(a.hasEnded?"":"text-secondary"),children:(0,d.LH)(a.totalContributed)}),(0,t.jsx)("span",{className:"text-greyscale-500 font-normal text-sm ml-2",children:s.parentTokenSymbol})]}),(0,t.jsxs)("div",{className:"stat-desc pt-2",children:[a.hasEnded&&"超出筹集目标的 ".concat(s.parentTokenSymbol," 在申领时退还"),!a.hasEnded&&r<.5&&"已筹集".concat(h,"%，达到 50% 开始倒计时"),!a.hasEnded&&r>=.5&&n<=0&&"已筹集".concat(h,"%，达到 100% 即结束发射"),!a.hasEnded&&r>=.5&&n>0&&(0,t.jsxs)(t.Fragment,{children:[r<1?"发射结束至少要":"距离发射结束","：",(0,t.jsx)(o.Z,{initialTimeLeft:c})]})]})]})}),(0,t.jsxs)("div",{className:"bg-gray-100 text-greyscale-500 rounded-lg p-4 mt-2 text-sm",children:[(0,t.jsx)("p",{className:"mb-1 font-medium",children:"经济模型："}),(0,t.jsxs)("p",{children:["1. 代币总量：",(0,d.LH)(BigInt(m.v.totalSupply))]}),(0,t.jsxs)("p",{children:["2. 发射数量：",(0,d.LH)(BigInt(m.v.fairLaunch))," (10%)"]}),(0,t.jsxs)("p",{children:["3. 治理激励：",(0,d.LH)(BigInt(m.v.govRewards))," (45%)"]}),(0,t.jsxs)("p",{children:["4. 行动激励：",(0,d.LH)(BigInt(m.v.actionRewards))," (45%)"]}),(0,t.jsx)("p",{className:"mt-2 mb-1 font-medium",children:"发射规则："}),(0,t.jsx)("p",{children:"1. 代币发放：按申购数量占比比例发放"}),(0,t.jsx)("p",{children:"2. 超过募集目标的父币，将按申购比例返还"})]})]}):(0,t.jsx)(i.Z,{}):(0,t.jsx)("div",{className:"text-red-500",children:"找不到发射信息"})},u=a(92321),j=a(27245),N=a(41664),v=a.n(N),p=a(64777),f=e=>{let{token:s,launchInfo:a}=e,{address:l}=(0,u.m)(),{contributed:n,isPending:r,error:i}=(0,c.ap)(null==s?void 0:s.address,l);return s?(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)(p.Z,{title:"参与申购"}),(0,t.jsx)("div",{className:"stats w-full",children:(0,t.jsxs)("div",{className:"stat place-items-center",children:[(0,t.jsx)("div",{className:"stat-title text-sm mr-6",children:"我的申购质押"}),(0,t.jsxs)("div",{className:"stat-value text-secondary",children:[(0,d.LH)(n||0n),(0,t.jsx)("span",{className:"text-greyscale-500 font-normal text-sm ml-2",children:s.parentTokenSymbol})]})]})}),(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(j.z,{variant:"outline",size:"sm",className:"w-1/2 text-secondary border-secondary",asChild:!0,children:(0,t.jsx)(v(),{href:"/launch/contribute?symbol=".concat(s.symbol),children:"去申购"})})})]}):""},y=a(86501),g=a(44576),b=e=>{let{token:s,launchInfo:a}=e,{address:r}=(0,u.m)(),{setToken:x}=(0,l.useContext)(n.M)||{},{contributed:o,isPending:h,error:N}=(0,c.ap)(null==s?void 0:s.address,r),{claimed:f,isPending:b,error:w}=(0,c.ur)(null==s?void 0:s.address,r),{extraRefunded:k,isPending:E,error:Z}=(0,c.Vh)(null==s?void 0:s.address,r),C=a.totalContributed?BigInt(m.v.fairLaunch)*(o||0n)/BigInt(a.totalContributed):0n,{claim:L,isWriting:T,writeError:H,isConfirming:P,isConfirmed:z}=(0,c.z7)(),_=async()=>{try{await L(null==s?void 0:s.address)}catch(e){console.error("领取失败:",e)}};return((0,l.useEffect)(()=>{z?(y.ZP.success("领取成功"),null==x||x({...s,hasEnded:!0}),setTimeout(()=>{window.location.reload()},2e3)):H&&y.ZP.error("领取失败")},[z,H]),r)?b?(0,t.jsx)(i.Z,{}):(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)(p.Z,{title:"我的领取"}),(0,t.jsx)("div",{className:"stats w-full border mt-4",children:(0,t.jsxs)("div",{className:"stat place-items-center",children:[(0,t.jsx)("div",{className:"stat-title text-sm mr-6",children:"共获得"}),(0,t.jsxs)("div",{className:"stat-value text-secondary",children:[(0,d.LH)(C),(0,t.jsx)("span",{className:"text-greyscale-500 font-normal text-sm ml-2",children:s.symbol})]})]})}),(0,t.jsxs)("div",{className:"stats w-full grid grid-cols-2 divide-x-0",children:[(0,t.jsx)("div",{className:"stat place-items-center",children:(0,t.jsxs)("div",{className:"stat-value text-xl",children:[(0,t.jsx)("span",{className:"text-sm font-normal text-greyscale-500",children:"质押 "}),(0,d.LH)(o||0n),h?(0,t.jsx)(i.Z,{}):(0,t.jsx)("span",{className:"text-sm font-normal text-greyscale-500 ml-1",children:null==s?void 0:s.parentTokenSymbol})]})}),(0,t.jsx)("div",{className:"stat place-items-center",children:(0,t.jsxs)("div",{className:"stat-value text-xl",children:[(0,t.jsx)("span",{className:"text-sm font-normal text-greyscale-500",children:"退回 "}),(0,d.LH)(k||0n),E?(0,t.jsx)(i.Z,{}):(0,t.jsx)("span",{className:"text-sm font-normal text-greyscale-500 ml-1",children:null==s?void 0:s.parentTokenSymbol})]})})]}),(0,t.jsxs)("div",{className:"flex justify-center space-x-4",children:[0>=Number(o)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j.z,{className:"w-1/2",disabled:!0,children:"未申购"}),(0,t.jsx)(j.z,{className:"w-1/2",asChild:!0,children:(0,t.jsx)(v(),{href:"/launch/burn?symbol=".concat(null==s?void 0:s.symbol),children:"底池销毁"})})]}),Number(o)>0&&!f&&(0,t.jsx)(j.z,{className:"w-1/2",onClick:_,disabled:T||P||z,children:T?"领取中...":P?"确认中...":z?"已领取":"领取"}),Number(o)>0&&f&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j.z,{className:"w-1/2",disabled:!0,children:"已领取"}),(0,t.jsx)(j.z,{className:"w-1/2",asChild:!0,children:(0,t.jsx)(v(),{href:"/launch/burn?symbol=".concat(null==s?void 0:s.symbol),children:"底池销毁"})})]})]}),H&&(0,t.jsx)("div",{className:"text-red-500",children:H.message}),N&&(0,t.jsx)("div",{className:"text-red-500",children:N.message}),Z&&(0,t.jsx)("div",{className:"text-red-500",children:Z.message}),w&&(0,t.jsx)("div",{className:"text-red-500",children:w.message}),(0,t.jsx)(g.Z,{isLoading:T||P,text:T?"提交交易...":"确认交易..."})]}):""},w=a(4062);let k=(0,a(31134).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var E=e=>{let{token:s,launchInfo:a}=e;return(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)(p.Z,{title:"部署子币"}),(0,t.jsx)("div",{className:"w-full text-center",children:(0,t.jsx)(j.z,{variant:"outline",size:"sm",className:"mt-2 w-1/2 text-secondary border-secondary",asChild:!0,children:(0,t.jsxs)(v(),{href:"/launch/deploy?symbol=".concat(null==s?void 0:s.symbol),children:[(0,t.jsx)(k,{className:"w-4 h-4"}),"去部署"]})})}),(0,t.jsxs)("div",{className:"bg-gray-100 text-greyscale-500 rounded-lg p-4 text-sm mt-4",children:[(0,t.jsx)("p",{className:"mb-1",children:"说明："}),(0,t.jsxs)("p",{children:["1. 部署者：须持有$",null==s?void 0:s.symbol,"不少于 0.5%的治理票"]}),(0,t.jsxs)("p",{children:["2. 子币发射目标：须筹集 20,000,000个 ",null==s?void 0:s.symbol]})]})]})};function Z(){let{token:e,setToken:s}=(0,l.useContext)(n.M)||{token:null,setToken:null},{launchInfo:a,isPending:d,error:x}=(0,c.zL)(e?e.address:"0x0");return((0,l.useEffect)(()=>{a&&e&&a.hasEnded&&!e.hasEnded&&s&&s({...e,hasEnded:!0})},[a,e,s]),d)?(0,t.jsx)(i.Z,{}):x?(0,t.jsx)("div",{className:"text-red-500",children:"加载发射信息失败"}):a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.Z,{title:"公平发射"}),(0,t.jsxs)("main",{className:"flex-grow",children:[(0,t.jsx)(w.Z,{}),(0,t.jsx)(h,{token:e,launchInfo:a}),!a.hasEnded&&e&&(0,t.jsx)(f,{token:e,launchInfo:a}),a.hasEnded&&e&&(0,t.jsx)(b,{token:e,launchInfo:a}),a.hasEnded&&e&&(0,t.jsx)(E,{token:e,launchInfo:a})]})]}):(0,t.jsx)("div",{className:"text-red-500",children:"找不到发射信息"})}}},function(e){e.O(0,[1664,2209,8710,6242,4637,4335,7807,2888,9774,179],function(){return e(e.s=68786)}),_N_E=e.O()}]);