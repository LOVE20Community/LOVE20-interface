(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6700],{54889:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/gov",function(){return n(7263)}])},27460:function(e,t,n){"use strict";var s=n(85893),a=n(86501),i=n(74855),r=n(18289),l=n(91529);t.Z=e=>{let{address:t,showCopyButton:n=!0,showAddress:d=!0,colorClassName:o=""}=e;return(0,s.jsxs)("span",{className:"flex items-center space-x-2",children:[d&&(0,s.jsx)("span",{className:"text-xs ".concat(null!=o?o:"text-greyscale-500"),children:(0,l.Vu)(t)}),n&&(0,s.jsx)(i.CopyToClipboard,{text:t,onCopy:(e,t)=>{t?a.ZP.success("复制成功"):a.ZP.error("复制失败")},children:(0,s.jsx)("button",{className:"flex items-center justify-center p-1 rounded hover:bg-gray-200 focus:outline-none",onClick:e=>{e.preventDefault(),e.stopPropagation()},"aria-label":"复制地址",children:(0,s.jsx)(r.Z,{className:"h-4 w-4 ".concat(null!=o?o:"text-greyscale-500")})})})]})}},7191:function(e,t,n){"use strict";var s=n(85893),a=n(67294),i=n(42757),r=n(93778),l=n(74089);t.Z=e=>{let{currentRound:t,roundType:n}=e,{data:d}=(0,i.O)(),{token:o}=(0,a.useContext)(r.M)||{},[u,c]=(0,a.useState)(0n),m=Number("100")||0,p=Number("12")||0,x=d?m-(Number(d)-Number(null==o?void 0:o.voteOriginBlocks))%m:0;return(0,a.useEffect)(()=>{t>0n&&(null==o?void 0:o.initialStakeRound)&&c(t-BigInt(null==o?void 0:o.initialStakeRound)+1n)},[t,null==o?void 0:o.initialStakeRound]),(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,s.jsxs)("h1",{className:"text-lg font-bold",children:["vote"===n?"投票轮":"行动轮"," 第 ",(0,s.jsx)("span",{className:"text-secondary",children:Number(u)})," 轮"]}),(0,s.jsxs)("span",{className:"text-sm text-greyscale-400 mt-1 pt-0",children:["本轮剩余：",(0,s.jsx)(l.Z,{initialTimeLeft:x>0?x*p:0})]})]})}},37436:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var s=n(85893),a=n(9008),i=n.n(a),r=n(67294),l=n(3294),d=n(68655),o=n(12003),u=n(40108);let c=(0,o.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),m=r.forwardRef((e,t)=>{let{className:n,variant:a,...i}=e;return(0,s.jsx)("div",{ref:t,role:"alert",className:(0,u.cn)(c({variant:a}),n),...i})});m.displayName="Alert";let p=r.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("h5",{ref:t,className:(0,u.cn)("mb-1 font-medium leading-none tracking-tight",n),...a})});p.displayName="AlertTitle";let x=r.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,u.cn)("text-sm [&_p]:leading-relaxed",n),...a})});x.displayName="AlertDescription";var y=n(95049);let v=()=>{let{error:e,setError:t}=(0,y.V)(),[n,a]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{e&&a(!0)},[e,t]),n&&e)?(0,s.jsxs)(m,{variant:"destructive",children:[(0,s.jsx)(d.Z,{className:"h-4 w-4"}),(0,s.jsx)(p,{children:e.name}),(0,s.jsx)(x,{children:e.message})]}):null};var f=n(5884),h=n(92321),N=e=>{let{title:t}=e,{address:n,chain:a}=(0,h.m)(),{setError:d}=(0,y.V)();return(0,r.useEffect)(()=>{n&&!a&&d({name:n?"钱包网络错误":"未连接钱包",message:n?"请切换到 ".concat("sepolia"," 网络"):"请先连接钱包，再进行操作"})},[n,a]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i(),{children:[(0,s.jsx)("title",{children:"".concat(t," - LIFE20")}),(0,s.jsx)("meta",{name:"".concat(t," - LIFE20"),content:"A Web3 DApp for Life20 token management"})]}),(0,s.jsxs)("header",{className:"flex justify-between items-center py-2 px-4",children:[(0,s.jsx)(f.vP,{className:"-ml-1"}),(0,s.jsx)(l.NL,{})]}),(0,s.jsx)("div",{className:"px-4",children:(0,s.jsx)(v,{})})]})}},37122:function(e,t,n){"use strict";var s=n(85893),a=n(67294),i=n(92321),r=n(27245),l=n(41664),d=n.n(l),o=n(91529),u=n(93778),c=n(7080),m=n(87250),p=n(67068),x=n(42083),y=n(64777);t.Z=e=>{let{currentRound:t,showBtn:n=!0}=e,{token:l}=(0,a.useContext)(u.M)||{},{address:v}=(0,i.m)(),{votesNumByAccount:f,isPending:h,error:N}=(0,c.VI)(null==l?void 0:l.address,t,v||""),{scoreByVerifier:T,isPending:j,error:b}=(0,m.w3)(null==l?void 0:l.address,t,v||""),g=h||j?BigInt(0):f-T,{handleContractError:k}=(0,p.S)();return((0,a.useEffect)(()=>{N&&k(N,"vote"),b&&k(b,"verify")},[N,b]),l)?v?(0,s.jsxs)("div",{className:"flex-col items-center px-4 pt-3 pb-2",children:[(0,s.jsx)(y.Z,{title:"行动验证"}),(0,s.jsxs)("div",{className:"stats w-full grid grid-cols-2 divide-x-0 mt-4",children:[(0,s.jsxs)("div",{className:"stat place-items-center pt-1 pb-2",children:[(0,s.jsx)("div",{className:"stat-title text-sm",children:"已验证票数"}),(0,s.jsx)("div",{className:"stat-value text-xl ".concat(n?"":"text-secondary"),children:j?(0,s.jsx)(x.Z,{}):(0,o.LH)(T||BigInt(0))})]}),(0,s.jsxs)("div",{className:"stat place-items-center pt-1 pb-2",children:[(0,s.jsx)("div",{className:"stat-title text-sm",children:"未验证票数"}),(0,s.jsx)("div",{className:"stat-value text-xl ".concat(n?"":"text-secondary"),children:h||j?(0,s.jsx)(x.Z,{}):(0,o.LH)(g)})]})]}),n&&(0,s.jsx)("div",{className:"flex justify-center",children:h||j?(0,s.jsx)(x.Z,{}):f>T?(0,s.jsx)(r.z,{className:"w-1/2",asChild:!0,children:(0,s.jsx)(d(),{href:"/verify?symbol=".concat(l.symbol),children:"去验证"})}):(0,s.jsx)(r.z,{disabled:!0,className:"w-1/2",children:T>0?"已验证":"未投票，无需验证"})})]}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"flex-col items-center px-4 pt-6 pb-2",children:[(0,s.jsx)(y.Z,{title:"行动验证"}),(0,s.jsx)("div",{className:"text-sm mt-4 text-greyscale-500 text-center",children:"请先连接钱包"})]})}):""}},77156:function(e,t,n){"use strict";n.d(t,{yA:function(){return d},A5:function(){return l}});var s=n(89810),a=n(71366),i=n(83540);let r=[{type:"constructor",inputs:[{name:"minter_",type:"address",internalType:"address"},{name:"tokenAddress_",type:"address",internalType:"address"}],stateMutability:"nonpayable"},{type:"function",name:"allowance",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"spender",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"approve",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"amount",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"balanceOf",inputs:[{name:"account",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"burn",inputs:[{name:"to",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"decimals",inputs:[],outputs:[{name:"",type:"uint8",internalType:"uint8"}],stateMutability:"view"},{type:"function",name:"decreaseAllowance",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"subtractedValue",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"increaseAllowance",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"addedValue",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"mint",inputs:[{name:"to",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"minter",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"name",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"reserve",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"symbol",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"tokenAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"totalSupply",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"transfer",inputs:[{name:"to",type:"address",internalType:"address"},{name:"amount",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"amount",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"event",name:"Approval",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"spender",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"TokenBurn",inputs:[{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"TokenMint",inputs:[{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"value",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"error",name:"InvalidAddress",inputs:[]},{type:"error",name:"NoTokensToBurn",inputs:[]},{type:"error",name:"NotEligibleToMint",inputs:[]},{type:"error",name:"TransferFailed",inputs:[]}],l=e=>{let{data:t,isPending:n,error:a}=(0,s.u)({address:e,abi:r,functionName:"totalSupply",args:[]});return{totalSupply:t,isPending:n,error:a}},d=e=>{let{writeContract:t,data:n,isPending:s,error:l}=(0,a.S)(),d=async(n,s)=>{try{await t({address:e,abi:r,functionName:"approve",args:[n,s]})}catch(e){console.error("Approve failed:",e)}},{isLoading:o,isSuccess:u}=(0,i.A)({hash:n});return{approve:d,writeData:n,isPending:s,error:l,isConfirming:o,isConfirmed:u}}},67068:function(e,t,n){"use strict";n.d(t,{S:function(){return r}});let s={launch:{AlreadyInitialized:"已初始化，无需再次初始化",InvalidTokenSymbol:"无效的代币符号",TokenSymbolExists:"代币符号已存在",NotEligibleToDeployToken:"不符合部署代币的条件",LaunchAlreadyEnded:"公平发射已结束，无法进行操作",LaunchNotEnded:"公平发射未结束，无法进行操作",NoContribution:"没有申购，无法操作",TokensAlreadyClaimed:"代币已领取，请勿重复领取",TransferFailed:"转账失败，请稍后重试",LaunchAlreadyExists:"公平发射已存在",ParentTokenNotSet:"父代币未设置",ZeroContribution:"申购数量不能为0",InvalidParentToken:"无效的父代币"},join:{AlreadyInitialized:"已初始化",AmountIsZero:"数量不能为0",AddressCannotBeZero:"地址不能为空",CannotGenerateAtCurrentRound:"不能在当前轮次生成",LastBlocksOfRoundCannotJoin:"每轮最后一些区块不能加入",ActionNotVoted:"该行动本轮没有投票",TransferFailed:"转账失败",InvalidToAddress:"目标地址无效",JoinedAmountIsZero:"加入数量为0",NotInWhiteList:"该地址不在白名单",JoinAmountExceedsMaxStake:"加入数量超过最大质押数量",RoundsIsZero:"轮次为0",RoundNotStarted:"轮次还没有开始，请耐心等待"},mint:{RoundNotFinished:"轮次未结束，无法铸造代币奖励",NoRewardAvailable:"没有奖励可用",RoundStartMustBeLessOrEqualToRoundEnd:"轮次开始必须小于或等于轮次结束",NotEnoughReward:"奖励不足，无法铸造",NotEnoughRewardToBurn:"奖励不足，无法销毁",RoundNotStarted:"轮次还没有开始，请耐心等待"},stake:{NotAllowedToStakeAtRoundZero:"不允许在0轮进行质押",InvalidToAddress:"无效的接收地址",StakeAmountMustBeSet:"质押数量必须大于0",ReleaseAlreadyRequested:"已请求释放",PromisedWaitingRoundsOutOfRange:"承诺等待的轮次超出范围",PromisedWaitingRoundsMustBeGreaterOrEqualThanBefore:"承诺等待的轮次必须大于或等于之前的轮次",NoStakedLiquidity:"无质押的流动性",NoStakedLiquidityOrToken:"没有质押的流动性或代币",AlreadyUnstaked:"已解除质押，无需再次解除",UnableToUnstakeAtRoundZero:"无法在第0轮解除质押",NotEnoughWaitingRounds:"等待轮次数量不足",RoundHasNotStartedYet:"轮次尚未开始",TokenAmountNotEnough:"代币数量不足",TransferTokenAmountForLPFailed:"为LP转账代币数量失败",TransferParentTokenAmountForLPFailed:"为LP转账父代币数量失败",TransferTokenAmountFailed:"转账代币数量失败",TransferSLTokenFailed:"转账SL代币失败",TransferSTTokenFailed:"转账ST代币失败",TransferParentTokenFailed:"转账父代币失败","transfer amount exceeds balance":"转账数量超过余额"},submit:{CannotSubmitAction:"您没有权限提交提案，请先质押获取足够代理票数",ActionIdNotExist:"提案ID不存在",ProposalIndexOutOfRange:"提案索引超出范围",StartGreaterThanEnd:"开始时间大于结束时间",MaxStakeZero:"最大质押数量必须大于0",MaxRandomAccountsZero:"最大随机账户数量必须大于0",AlreadySubmitted:"该提案已提交，请勿重复提交",OnlyOneSubmitPerRound:"每个轮次，1个地址只能提交1个行动"},token:{AlreadyInitialized:"已初始化",InvalidAddress:"无效的地址",NotEligibleToMint:"不符合铸造代币的条件",ExceedsMaxSupply:"超过最大供应量",InsufficientBalance:"余额不足",TransferFailed:"转账失败，请稍后重试",InvalidSupply:"无效的供应量"},slToken:{NotEligibleToMint:"不符合铸造代币的条件",InvalidAddress:"无效的地址",NoTokensToBurn:"没有代币可销毁",InsufficientLiquidity:"流动性不足",TotalLpExceedsBalance:"总LP数量超过余额",TransferFailed:"转账失败，请稍后重试"},stToken:{NotEligibleToMint:"不符合铸造代币的条件",InvalidAddress:"无效的地址",NoTokensToBurn:"没有代币可销毁",TransferFailed:"转账失败，请稍后重试"},verify:{AlreadyInitialized:"已初始化",AddressCannotBeZero:"地址不能为空",FirstTokenAddressCannotBeZero:"第一个代币地址不能为空",RandomAddressCannotBeZero:"随机地址不能为空",ScoresAndAccountsLengthMismatch:"分数和地址数量不匹配",ScoresExceedVotesNum:"分数超过投票数量",RoundNotStarted:"轮次还没有开始，请耐心等待"},vote:{InvalidActionIds:"无效的提案ID",CannotVote:"没有权限投票",NotEnoughVotesLeft:"投票数量不足",VotesMustBeGreaterThanZero:"投票数量必须大于0"},uniswapV2Router:{EXPIRED:"交易已过期，请重新交易",INSUFFICIENT_A_AMOUNT:"A代币数量不足，请调整输入数量",INSUFFICIENT_B_AMOUNT:"B代币数量不足，请调整输入数量",INSUFFICIENT_OUTPUT_AMOUNT:"目标代币数量不足，请调整输入数量",EXCESSIVE_INPUT_AMOUNT:"输入数量过多，请调整输入数量",INVALID_PATH:"无效的兑换路径"}};var a=n(95049),i=n(67294);let r=()=>{let{setError:e}=(0,a.V)();return{handleContractError:(0,i.useCallback)((t,n)=>{console.error("context",n),console.error("error",t),e(function(e,t){let n=null!=e?e:"",a=n.match(/(?:([A-Za-z0-9_]+)\()|(?:ERC20:\s*(.+))/),i="";a&&(void 0!=a[1]||void 0!=a[2])&&(a[1]?i=a[1]:a[2]&&(i="".concat(a[2])));let r=s[t];if(r&&r[i])return{name:"交易错误",message:r[i]};let l=n.match(/User denied transaction signature/)?"用户取消了交易":"";if(l)return{name:"交易提示",message:l};let d=function(e){let t=e.split("\n").find(e=>e.trim().startsWith("Error:"));if(t){var n;let e=null===(n=t.split("Error:")[1])||void 0===n?void 0:n.trim();if(e)return e}let s=e.split("\n"),a=s.findIndex(e=>e.includes("the following reason:"));if(-1!==a&&a+1<s.length){let e=s[a+1].trim();if(e)return e}return""}(n);return d?{name:"交易错误",message:d}:{name:"交易错误",message:"交易失败，请稍后刷新重试"}}(t.message,n))},[e])}}},7263:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var s=n(85893),a=n(67294),i=n(11163),r=n(93778),l=n(7080),d=n(67068),o=n(37436),u=n(27245),c=n(41664),m=n.n(c),p=n(92180),x=n(77156),y=n(91529),v=n(42083),f=n(7191),h=e=>{let{currentRound:t}=e,{token:n}=(0,a.useContext)(r.M)||{},{govVotesNum:i,isPending:l,error:o}=(0,p.kc)(null==n?void 0:n.address),{totalSupply:c,isPending:h,error:N}=(0,x.A5)(null==n?void 0:n.stTokenAddress),{handleContractError:T}=(0,d.S)();return(0,a.useEffect)(()=>{o&&T(o,"stake"),N&&T(N,"stToken")},[o,N]),(0,s.jsxs)("div",{className:"px-4 pb-4",children:[(0,s.jsx)(f.Z,{currentRound:t,roundType:"vote"}),(0,s.jsxs)("div",{className:"border rounded-lg p-0",children:[(0,s.jsxs)("div",{className:"stats  w-full grid grid-cols-2 divide-x-0",children:[(0,s.jsxs)("div",{className:"stat place-items-center pt-3 pb-0 mb-0",children:[(0,s.jsx)("div",{className:"stat-title",children:"总治理票数"}),(0,s.jsx)("div",{className:"stat-value text-2xl",children:l?(0,s.jsx)(v.Z,{}):(0,y.LH)(i||BigInt(0))})]}),(0,s.jsxs)("div",{className:"stat place-items-center pt-3 pb-0 mb-0",children:[(0,s.jsx)("div",{className:"stat-title",children:"质押代币数"}),(0,s.jsx)("div",{className:"stat-value text-2xl",children:h?(0,s.jsx)(v.Z,{}):(0,y.LH)(c||BigInt(0))})]})]}),(0,s.jsx)("div",{className:"w-full flex items-center py-0 mt-0 mb-0",children:(0,s.jsx)(u.z,{variant:"link",size:"sm",className:"w-full text-gray-400",asChild:!0,children:(0,s.jsx)(m(),{href:"/gov/liquid?symbol=".concat(null==n?void 0:n.symbol),children:"流动性质押数据>>"})})})]})]})},N=n(92321),T=n(64777),j=()=>{let{token:e}=(0,a.useContext)(r.M)||{},{address:t}=(0,N.m)(),{govVotes:n,stAmount:i,isPending:l,error:o}=(0,p.L)((null==e?void 0:e.address)||"",t||""),{handleContractError:c}=(0,d.S)();return((0,a.useEffect)(()=>{o&&c(o,"stake")},[o]),e)?t?(0,s.jsxs)("div",{className:"flex-col items-center px-4 pt-2 pb-0",children:[(0,s.jsx)(T.Z,{title:"我的质押"}),(0,s.jsxs)("div",{className:"stats w-full grid grid-cols-2 divide-x-0",children:[(0,s.jsxs)("div",{className:"stat place-items-center py-1",children:[(0,s.jsx)("div",{className:"stat-title text-sm",children:"我的治理票数"}),(0,s.jsx)("div",{className:"stat-value text-xl",children:l?(0,s.jsx)(v.Z,{}):(0,y.LH)(n||BigInt(0))}),(0,s.jsx)("div",{className:"stat-actions w-full my-0",children:(0,s.jsx)(u.z,{variant:"link",size:"sm",className:"w-full text-secondary",asChild:!0,children:(0,s.jsx)(m(),{href:"/gov/stakelp?symbol=".concat(e.symbol),children:"去获取"})})})]}),(0,s.jsxs)("div",{className:"stat place-items-center py-1",children:[(0,s.jsx)("div",{className:"stat-title text-sm",children:"我的质押代币数"}),(0,s.jsx)("div",{className:"stat-value text-xl",children:l?(0,s.jsx)(v.Z,{}):(0,y.LH)(i||BigInt(0))}),(0,s.jsx)("div",{className:"stat-actions w-full my-0",children:(0,s.jsx)(u.z,{variant:"link",size:"sm",className:"w-full text-secondary",asChild:!0,children:(0,s.jsx)(m(),{href:"/gov/staketoken?symbol=".concat(e.symbol),children:"去质押"})})})]})]})]}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"flex-col items-center px-4 py-2",children:[(0,s.jsx)(T.Z,{title:"我的质押"}),(0,s.jsx)("div",{className:"text-sm mt-4 text-greyscale-500 text-center",children:"请先连接钱包"})]})}):""},b=e=>{let{currentRound:t}=e,{token:n}=(0,a.useContext)(r.M)||{},{address:i}=(0,N.m)(),{validGovVotes:o,isPending:c,error:x}=(0,p.Ty)((null==n?void 0:n.address)||"",i||""),{votesNumByAccount:f,isPending:h,error:j}=(0,l.VI)((null==n?void 0:n.address)||"",t,i||""),{handleContractError:b}=(0,d.S)();return((0,a.useEffect)(()=>{j&&b(j,"vote"),x&&b(x,"stake")},[j,x]),n)?i?(0,s.jsxs)("div",{className:"flex-col items-center px-4 py-0",children:[(0,s.jsx)(T.Z,{title:"行动投票"}),(0,s.jsxs)("div",{className:"stats w-full grid grid-cols-2 divide-x-0",children:[(0,s.jsxs)("div",{className:"stat place-items-center pt-1 pb-2",children:[(0,s.jsx)("div",{className:"stat-title text-sm",children:"我的已投票数"}),(0,s.jsx)("div",{className:"stat-value text-xl",children:h?(0,s.jsx)(v.Z,{}):(0,y.LH)(f||BigInt(0))})]}),(0,s.jsxs)("div",{className:"stat place-items-center pt-1 pb-2",children:[(0,s.jsx)("div",{className:"stat-title text-sm",children:"我的剩余票数"}),(0,s.jsx)("div",{className:"stat-value text-xl",children:c||h?(0,s.jsx)(v.Z,{}):o?(0,y.LH)(o-f||BigInt(0)):"0"})]})]}),(0,s.jsx)("div",{className:"flex justify-center",children:c||h?(0,s.jsx)(v.Z,{}):o>f+2n?(0,s.jsx)(u.z,{className:"w-1/2",asChild:!0,children:(0,s.jsx)(m(),{href:"/vote?symbol=".concat(n.symbol),children:"去投票"})}):(0,s.jsx)(u.z,{disabled:!0,className:"w-1/2",children:o>0?"已投票":"无治理票，不能投票"})})]}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"flex-col items-center px-4 py-2",children:[(0,s.jsx)(T.Z,{title:"行动投票"}),(0,s.jsx)("div",{className:"text-sm mt-4 text-greyscale-500 text-center",children:"请先连接钱包"})]})}):""},g=n(37122),k=n(4062),A=()=>{let e=(0,i.useRouter)(),{currentRound:t,error:n}=(0,l.Bk)(),{token:u}=(0,a.useContext)(r.M)||{},{handleContractError:c}=(0,d.S)();return(0,a.useEffect)(()=>{n&&c(n,"vote")},[n]),(0,a.useEffect)(()=>{u&&!u.initialStakeRound&&"TEST20"!=u.symbol&&e.push("/gov/stakelp?symbol=".concat(u.symbol,"&first=true"))},[u]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.Z,{title:"治理首页"}),(0,s.jsxs)("main",{className:"flex-grow",children:[(0,s.jsx)(k.Z,{}),(0,s.jsx)(h,{currentRound:t}),(0,s.jsx)(j,{}),(0,s.jsx)(b,{currentRound:t}),(0,s.jsx)(g.Z,{currentRound:t>2?t-2n:0n})]})]})}}},function(e){e.O(0,[1664,2209,8710,6242,4637,5263,7250,7807,2888,9774,179],function(){return e(e.s=54889)}),_N_E=e.O()}]);