(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3064],{37985:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tokens",function(){return n(92622)}])},34680:function(e,t,n){"use strict";n.d(t,{Ol:function(){return i},SZ:function(){return o},Zb:function(){return c},aY:function(){return l},eW:function(){return d},ll:function(){return u}});var r=n(85893),a=n(67294),s=n(40108);let c=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",n),...a})});c.displayName="Card";let i=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",n),...a})});i.displayName="CardHeader";let u=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",n),...a})});u.displayName="CardTitle";let o=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",n),...a})});o.displayName="CardDescription";let l=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",n),...a})});l.displayName="CardContent";let d=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",n),...a})});d.displayName="CardFooter"},42083:function(e,t,n){"use strict";var r=n(85893);t.Z=()=>(0,r.jsx)("span",{className:"flex justify-center items-center",children:(0,r.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-3 text-greyscale-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]})})},58732:function(e,t,n){"use strict";var r=n(85893),a=n(9008),s=n.n(a);n(67294);var c=n(54705),i=n(78167);t.Z=e=>{let{title:t}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s(),{children:[(0,r.jsx)("title",{children:"".concat(t," - LIFE20")}),(0,r.jsx)("meta",{name:"".concat(t," - LIFE20"),content:"A Web3 DApp for Life20 token management"})]}),(0,r.jsxs)("header",{className:"flex justify-between items-center py-2 px-4",children:[(0,r.jsx)(i.vP,{className:"-ml-1"}),(0,r.jsx)(c.NL,{})]})]})}},92622:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n(85893),a=n(58732),s=n(67294),c=n(27245);let i=(0,n(31134).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var u=n(34680),o=n(86501),l=n(11163),d=n(45551),f=n(70019),m=n(93778),h=n(42083);function p(){let e=(0,l.useRouter)(),{setToken:t}=(0,s.useContext)(m.M)||{},[n,a]=(0,s.useState)(0n),[p,x]=(0,s.useState)(BigInt(10)),[w,y]=(0,s.useState)([]);(0,s.useEffect)(()=>{y([]),a(0n),x(BigInt(10))},[]);let{tokens:v,isPending:g,error:j}=(0,f.N4)(n,p,!0),{tokens:N,launchInfos:b,isPending:R,error:C}=(0,d.OJ)(v||[]);(0,s.useEffect)(()=>{if(v&&N&&b){let e=N.map((e,t)=>({name:e.name,symbol:e.symbol,address:v[t],decimals:Number(e.decimals),parentTokenAddress:b[t].parentTokenAddress,parentTokenSymbol:e.parentTokenSymbol,slTokenAddress:e.slAddress,stTokenAddress:e.stAddress,hasEnded:b[t].hasEnded}));y(t=>{let n=new Set(t.map(e=>e.symbol));return[...t,...e.filter(e=>!n.has(e.symbol))]})}},[N,b]);let T=(0,s.useCallback)(()=>{!g&&N&&N.length>0&&(a(p),x(p+BigInt(10)))},[g,N,p]),k=function(e,t,n){var r=this,a=(0,s.useRef)(null),c=(0,s.useRef)(0),i=(0,s.useRef)(null),u=(0,s.useRef)([]),o=(0,s.useRef)(),l=(0,s.useRef)(),d=(0,s.useRef)(e),f=(0,s.useRef)(!0);d.current=e;var m="undefined"!=typeof window,h=!t&&0!==t&&m;if("function"!=typeof e)throw TypeError("Expected a function");t=+t||0;var p=!!(n=n||{}).leading,x=!("trailing"in n)||!!n.trailing,w="maxWait"in n,y="debounceOnServer"in n&&!!n.debounceOnServer,v=w?Math.max(+n.maxWait||0,t):null;return(0,s.useEffect)(function(){return f.current=!0,function(){f.current=!1}},[]),(0,s.useMemo)(function(){var e=function(e){var t=u.current,n=o.current;return u.current=o.current=null,c.current=e,l.current=d.current.apply(n,t)},n=function(e,t){h&&cancelAnimationFrame(i.current),i.current=h?requestAnimationFrame(e):setTimeout(e,t)},s=function(e){if(!f.current)return!1;var n=e-a.current;return!a.current||n>=t||n<0||w&&e-c.current>=v},g=function(t){return i.current=null,x&&u.current?e(t):(u.current=o.current=null,l.current)},j=function e(){var r=Date.now();if(s(r))return g(r);if(f.current){var i=t-(r-a.current);n(e,w?Math.min(i,v-(r-c.current)):i)}},N=function(){if(m||y){var d=Date.now(),h=s(d);if(u.current=[].slice.call(arguments),o.current=r,a.current=d,h){if(!i.current&&f.current)return c.current=a.current,n(j,t),p?e(a.current):l.current;if(w)return n(j,t),e(a.current)}return i.current||n(j,t),l.current}};return N.cancel=function(){i.current&&(h?cancelAnimationFrame(i.current):clearTimeout(i.current)),c.current=0,u.current=a.current=o.current=i.current=null},N.isPending=function(){return!!i.current},N.flush=function(){return i.current?g(Date.now()):l.current},N},[p,w,t,v,x,h,m,y])}(()=>{window.innerHeight+window.scrollY>=document.body.offsetHeight-500&&T()},200);(0,s.useEffect)(()=>(window.addEventListener("scroll",k),()=>{window.removeEventListener("scroll",k)}),[k]);let E=n=>{if(!t){o.Am.error("请先选择代币");return}t(n),n.hasEnded?e.push("/".concat(n.symbol,"/acting")):e.push("/".concat(n.symbol,"/launch"))};return j||C?(0,r.jsx)("div",{className:"text-red-500",children:"加载错误，请稍后再试。"}):(0,r.jsxs)("div",{className:"space-y-4 m-4",children:[w.map((e,t)=>(0,r.jsx)(u.Zb,{onClick:()=>E(e),children:(0,r.jsxs)(u.aY,{className:"p-4 flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"flex items-center gap-2 ",children:[(0,r.jsx)("span",{className:"font-semibold mr-4",children:e.symbol}),(0,r.jsx)("span",{className:"text-greyscale-500 text-sm",children:"父币 "}),(0,r.jsx)("span",{className:"text-sm",children:e.parentTokenSymbol})]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:e.hasEnded?(0,r.jsx)("span",{className:"text-greyscale-500",children:"发射已完成"}):(0,r.jsx)("span",{className:"text-secondary",children:"发射中"})})]}),(0,r.jsx)(c.z,{variant:"ghost",size:"icon",children:(0,r.jsx)(i,{className:"h-4 w-4"})})]})},t)),(g||R)&&(0,r.jsx)(h.Z,{})]})}function x(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.Z,{title:"Launch"}),(0,r.jsxs)("main",{className:"flex-grow",children:[(0,r.jsx)("header",{className:"flex justify-between items-center m-4",children:(0,r.jsx)("h1",{className:"text-lg font-bold",children:"所有代币"})}),(0,r.jsx)(p,{})]})]})}},9008:function(e,t,n){e.exports=n(23867)},96128:function(e,t,n){"use strict";n.d(t,{T:function(){return x}});var r=n(14503),a=n(8998),s=n(33840),c=n(26445),i=n(33639),u=n(87469),o=n(61163),l=n(74688),d=n(93714),f=n(47531),m=n(79524),h=n(76404),p=n(99238);async function x(e,t){let{account:n=e.account,chain:x=e.chain,accessList:w,blobs:y,data:v,gas:g,gasPrice:j,maxFeePerBlobGas:N,maxFeePerGas:b,maxPriorityFeePerGas:R,nonce:C,to:T,value:k,...E}=t;if(!n)throw new a.o({docsPath:"/docs/actions/wallet/sendTransaction"});let F=(0,r.T)(n);try{let n;if((0,f.F)(t),null!==x&&(n=await (0,d.s)(e,m.L,"getChainId")({}),(0,s.q)({currentChainId:n,chain:x})),"local"===F.type){let t=await (0,d.s)(e,h.Z,"prepareTransactionRequest")({account:F,accessList:w,blobs:y,chain:x,chainId:n,data:v,gas:g,gasPrice:j,maxFeePerBlobGas:N,maxFeePerGas:b,maxPriorityFeePerGas:R,nonce:C,parameters:[...h.Q,"sidecars"],to:T,value:k,...E}),r=x?.serializers?.transaction,a=await F.signTransaction(t,{serializer:r});return await (0,d.s)(e,p.p,"sendRawTransaction")({serializedTransaction:a})}let r=e.chain?.formatters?.transactionRequest?.format,a=(r||l.tG)({...(0,o.K)(E,{format:r}),accessList:w,blobs:y,chainId:n,data:v,from:F.address,gas:g,gasPrice:j,maxFeePerBlobGas:N,maxFeePerGas:b,maxPriorityFeePerGas:R,nonce:C,to:T,value:k});return await e.request({method:"eth_sendTransaction",params:[a]},{retryCount:0})}catch(e){throw function(e,{docsPath:t,...n}){let r=(()=>{let t=(0,u.k)(e,n);return t instanceof c.cj?e:t})();return new i.mk(r,{docsPath:t,...n})}(e,{...t,account:F,chain:t.chain||void 0})}}},61877:function(e,t,n){"use strict";n.d(t,{n:function(){return c}});var r=n(55629),a=n(93714),s=n(96128);async function c(e,t){let{abi:n,address:c,args:i,dataSuffix:u,functionName:o,...l}=t,d=(0,r.R)({abi:n,args:i,functionName:o});return(0,a.s)(e,s.T,"sendTransaction")({data:`${d}${u?u.replace("0x",""):""}`,to:c,...l})}},33840:function(e,t,n){"use strict";n.d(t,{q:function(){return a}});var r=n(80377);function a({chain:e,currentChainId:t}){if(!e)throw new r.Bk;if(t!==e.id)throw new r.Yl({chain:e,currentChainId:t})}},83540:function(e,t,n){"use strict";n.d(t,{A:function(){return m}});var r=n(95946),a=n(51973),s=n(23147),c=n(36083),i=n(81946);async function u(e,t){let{chainId:n,timeout:u=0,...o}=t,l=e.getClient({chainId:n}),d=(0,i.s)(l,a.e,"waitForTransactionReceipt"),f=await d({...o,timeout:u});if("reverted"===f.status){let e=(0,i.s)(l,s.f,"getTransaction"),t=await e({hash:f.transactionHash}),n=(0,i.s)(l,c.R,"call"),a=await n({...t,data:t.input,gasPrice:"eip1559"!==t.type?t.gasPrice:void 0,maxFeePerGas:"eip1559"===t.type?t.maxFeePerGas:void 0,maxPriorityFeePerGas:"eip1559"===t.type?t.maxPriorityFeePerGas:void 0});throw Error(a?.data?(0,r.rR)(`0x${a.data.substring(138)}`):"unknown reason")}return{...f,chainId:l.chain.id}}var o=n(36100),l=n(82451),d=n(82002),f=n(37122);function m(e={}){let{hash:t,query:n={}}=e,r=(0,f.Z)(e),a=(0,d.x)({config:r}),s=function(e,t={}){return{async queryFn({queryKey:n}){let{hash:r,...a}=n[1];if(!r)throw Error("hash is required");return u(e,{...a,onReplaced:t.onReplaced,hash:r})},queryKey:function(e={}){let{onReplaced:t,...n}=e;return["waitForTransactionReceipt",(0,o.OP)(n)]}(t)}}(r,{...e,chainId:e.chainId??a}),c=!!(t&&(n.enabled??!0));return(0,l.aM)({...n,...s,enabled:c})}},75593:function(e,t,n){"use strict";n.d(t,{S:function(){return f}});var r=n(98029),a=n(61877),s=n(81946),c=n(52425),i=n(75230),u=n(66432);async function o(e,t){let n;let{abi:r,chainId:a,connector:c,...o}=t;n=t.account?t.account:(await (0,i.e)(e,{chainId:a,connector:c})).account;let l=e.getClient({chainId:a}),d=(0,s.s)(l,u.a,"simulateContract"),{result:f,request:m}=await d({...o,abi:r,account:n});return{chainId:l.chain.id,result:f,request:{__mode:"prepared",...m,chainId:a}}}async function l(e,t){let n,r;let{account:u,chainId:l,connector:d,__mode:f,...m}=t;n="object"==typeof u&&u?.type==="local"?e.getClient({chainId:l}):await (0,i.e)(e,{account:u??void 0,chainId:l,connector:d});let{connector:h}=(0,c.D)(e);if("prepared"===f||h?.supportsSimulation)r=m;else{let{request:t}=await o(e,{...m,account:u,chainId:l});r=t}let p=(0,s.s)(n,a.n,"writeContract");return await p({...r,...u?{account:u}:{},chain:l?{id:l}:null})}var d=n(37122);function f(e={}){var t;let{mutation:n}=e,a=(t=(0,d.Z)(e),{mutationFn:e=>l(t,e),mutationKey:["writeContract"]}),{mutate:s,mutateAsync:c,...i}=(0,r.D)({...n,...a});return{...i,writeContract:s,writeContractAsync:c}}}},function(e){e.O(0,[19,2888,9774,179],function(){return e(e.s=37985)}),_N_E=e.O()}]);