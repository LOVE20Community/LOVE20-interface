(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9236],{89245:function(e,s,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/my",function(){return l(29226)}])},29226:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return p}});var t=l(85893),n=l(35337),a=l(92321),r=l(67294),d=l(93778),x=l(19638),i=l(22877),c=l(91318),o=()=>{let{token:e}=(0,r.useContext)(d.M)||{},{address:s}=(0,a.m)(),{balance:l,isPending:n,error:o}=(0,x.hS)(null==e?void 0:e.address,s);return n?(0,t.jsx)(c.Z,{}):o?(0,t.jsxs)("div",{children:["错误: ",o.message]}):(0,t.jsxs)("div",{className:"flex flex-col items-center max-w-4xl mx-auto p-4 bg-base-100 mb-4 border-t border-gray-100",children:[(0,t.jsx)("p",{className:"text-gray-500 text-sm",children:"持有代币数量"}),(0,t.jsxs)("p",{className:"mt-2",children:[n?(0,t.jsx)(c.Z,{}):(0,t.jsx)("span",{className:"text-orange-500 text-2xl font-bold",children:(0,i.L)(l||0n)}),(0,t.jsx)("span",{className:"text-gray-500 ml-2",children:null==e?void 0:e.symbol})]})]})},m=l(5028),f=()=>{let{token:e}=(0,r.useContext)(d.M)||{},{address:s}=(0,a.m)(),{stakedAmount:l,isPending:n,error:x}=(0,m.Mn)(null==e?void 0:e.address,s);return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"w-full flex flex-col items-center rounded p-4 bg-base-100 mt-4",children:[(0,t.jsx)("div",{className:"w-full text-left mb-4",children:(0,t.jsx)("h2",{className:"relative pl-4 text-gray-700 text-base font-medium before:content-[''] before:absolute before:left-0 before:top-0 before:bottom-0 before:w-1 before:bg-red-500",children:"我参与行动的资产"})}),n?(0,t.jsx)(c.Z,{}):(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm text-gray-500 mr-4",children:"行动锁定代币总量"}),(0,t.jsx)("span",{className:"text-2xl font-bold text-orange-400 mr-1",children:(0,i.L)(l||BigInt(0))}),(0,t.jsx)("span",{className:"text-sm text-gray-500",children:null==e?void 0:e.symbol})]}),x&&(0,t.jsx)("div",{className:"text-red-500",children:x.message})]})})},j=l(41664),h=l.n(j),u=l(92180),b=()=>{let{token:e}=(0,r.useContext)(d.M)||{},{address:s}=(0,a.m)(),{slAmount:l,stAmount:n,promisedWaitingRounds:x,requestedUnstakeRound:o,govVotes:m,isPending:f,error:j}=(0,u.L)(null==e?void 0:e.address,s);return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"w-full flex flex-col items-center rounded p-4 bg-base-100 mt-1",children:[(0,t.jsx)("div",{className:"w-full text-left mb-4",children:(0,t.jsx)("h2",{className:"relative pl-4 text-gray-700 text-base font-medium before:content-[''] before:absolute before:left-0 before:top-0 before:bottom-0 before:w-1 before:bg-red-500",children:"我参与治理的资产"})}),(0,t.jsxs)("div",{className:"flex w-full justify-center",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center flex-1",children:[(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"流动性质押"}),(0,t.jsx)("span",{className:"text-2xl font-bold text-orange-400",children:f?(0,t.jsx)(c.Z,{}):(0,i.L)(l||BigInt(0))})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center flex-1",children:[(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"质押代币"}),(0,t.jsx)("span",{className:"text-2xl font-bold text-orange-400",children:f?(0,t.jsx)(c.Z,{}):(0,i.L)(n||BigInt(0))})]})]}),(0,t.jsxs)("div",{className:"flex w-full justify-center mt-2",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center flex-1",children:[(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"承诺释放间隔轮次"}),(0,t.jsxs)("span",{children:[(0,t.jsx)("span",{className:"text-2xl font-bold text-orange-400",children:f?(0,t.jsx)(c.Z,{}):"".concat(x||BigInt(0))}),(0,t.jsx)("span",{className:"text-sm text-gray-500",children:" 轮"})]})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center flex-1",children:[(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"治理票数"}),(0,t.jsx)("span",{className:"text-2xl font-bold text-orange-400",children:f?(0,t.jsx)(c.Z,{}):(0,i.L)(m||BigInt(0))})]})]}),(0,t.jsx)("div",{className:"flex w-full justify-center mt-2",children:(0,t.jsx)(h(),{href:"/my/govrewards",className:"btn-primary btn w-1/2",children:"查看治理奖励"})})]})})},g=l(94782),N=l(45551),v=()=>{let{token:e}=(0,r.useContext)(d.M)||{},{address:s}=(0,a.m)(),{joinedActions:l,isPending:n,error:x}=(0,N.dB)((null==e?void 0:e.address)||"",s),{actionInfos:o,isPending:m,error:f}=(0,g.fT)((null==e?void 0:e.address)||"",(null==l?void 0:l.map(e=>e.actionId))||[]);return n||l&&l.length>0&&m?(0,t.jsx)(c.Z,{}):x?(0,t.jsx)("div",{children:"加载出错，请稍后再试。"}):(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("h2",{className:"text-sm font-bold mb-4 text-gray-600",children:"我参与的行动"}),(null==l?void 0:l.length)?(0,t.jsx)("div",{className:"space-y-4",children:null==l?void 0:l.map((e,s)=>{var l,n;return(0,t.jsx)("div",{className:"bg-white p-4 rounded-lg mb-4",children:(0,t.jsxs)(h(),{href:"/my/actrewards?id=".concat(e.actionId),children:[(0,t.jsxs)("div",{className:"font-semibold mb-2",children:[(0,t.jsx)("span",{className:"text-gray-400 text-base mr-1",children:"No.".concat(e.actionId)}),(0,t.jsx)("span",{className:"text-gray-800 text-lg",children:null==o?void 0:null===(l=o[s])||void 0===l?void 0:l.body.action})]}),(0,t.jsx)("p",{className:"leading-tight",children:null==o?void 0:null===(n=o[s])||void 0===n?void 0:n.body.consensus}),(0,t.jsxs)("div",{className:"flex justify-between mt-1",children:[(0,t.jsxs)("span",{className:"text-sm",children:["参与到第 ",e.lastJoinedRound.toString()," 轮"]}),(0,t.jsxs)("span",{className:"text-sm",children:["参与代币数量：",(0,i.L)(e.stakedAmount)]})]})]},e.actionId)},e.actionId)})}):(0,t.jsx)("div",{className:"text-sm text-gray-500 text-center",children:"没有行动"}),x&&(0,t.jsx)("div",{children:x.message}),f&&(0,t.jsx)("div",{children:f.message})]})},p=()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Z,{title:"我的"}),(0,t.jsxs)("main",{className:"flex-grow",children:[(0,t.jsx)(o,{}),(0,t.jsx)(b,{}),(0,t.jsx)(f,{}),(0,t.jsx)(v,{})]})]})}},function(e){e.O(0,[8554,6789,8205,5551,2180,9638,2888,9774,179],function(){return e(e.s=89245)}),_N_E=e.O()}]);