(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6138],{48764:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/launch/deploy",function(){return n(44368)}])},34680:function(e,t,n){"use strict";n.d(t,{Ol:function(){return c},SZ:function(){return o},Zb:function(){return i},aY:function(){return u},eW:function(){return d},ll:function(){return l}});var r=n(85893),a=n(67294),s=n(40108);let i=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",n),...a})});i.displayName="Card";let c=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",n),...a})});c.displayName="CardHeader";let l=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",n),...a})});l.displayName="CardTitle";let o=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",n),...a})});o.displayName="CardDescription";let u=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",n),...a})});u.displayName="CardContent";let d=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",n),...a})});d.displayName="CardFooter"},68655:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(31134).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},23432:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(31134).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},44576:function(e,t,n){"use strict";var r=n(85893);n(67294);var a=n(23432);t.Z=e=>{let{isLoading:t}=e;return t?(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gray-900 bg-opacity-50",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(a.Z,{className:"mx-auto h-8 w-8 animate-spin text-white"}),(0,r.jsx)("p",{className:"mt-2 text-sm font-medium text-white",children:"Loading"})]})}):null}},44368:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var r=n(85893),a=n(58732),s=n(67294),i=n(92321),c=n(21774),l=n(27245),o=n(75320),u=s.forwardRef((e,t)=>(0,r.jsx)(o.WV.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));u.displayName="Label";var d=n(12003),f=n(40108);let x=(0,d.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),m=s.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(u,{ref:t,className:(0,f.cn)(x(),n),...a})});m.displayName=u.displayName;var h=n(34680),p=n(98082),w=n(68655),y=n(11163),j=n(70019),v=n(93778),N=n(42083),g=n(44576);function C(){let e=(0,y.useRouter)(),[t,n]=(0,s.useState)(""),[a,o]=(0,s.useState)(""),{isConnected:u}=(0,i.m)(),{deployToken:d,isWriting:f,writeError:x,isConfirming:C,isConfirmed:b,writeData:Z}=(0,j.Ct)();(0,s.useEffect)(()=>{x&&o(x.message||"部署失败")},[x]),(0,s.useEffect)(()=>{b&&e.push("/tokens")},[b]);let{token:R}=(0,s.useContext)(v.M)||{};if(!R)return(0,r.jsx)(N.Z,{});let k=()=>t.length>6?(o("字符串名称，仅限6个byte"),!1):/^[A-Z0-9]+$/.test(t)?!!/^[A-Z]/.test(t)||(o("必须已大写字母A~Z开头"),!1):(o("只能用大写字母A~Z和数字0~9"),!1),T=async()=>{if(o(""),!u){o("请先连接钱包");return}if(!t){o("请输入代币符号");return}if(k())try{await d(t,R.address)}catch(e){o(e.message||"部署失败")}},_=f||C;return(0,r.jsxs)(h.Zb,{className:"w-full border-none shadow-none rounded-none",children:[(0,r.jsx)(g.Z,{isLoading:_}),(0,r.jsxs)(h.Ol,{children:[(0,r.jsx)(h.ll,{className:"text-2xl font-bold text-center",children:"部署子币"}),(0,r.jsxs)(h.SZ,{className:"text-center",children:["创建 ",(0,r.jsx)("span",{className:"text-secondary",children:R.symbol})," 的子币"]})]}),(0,r.jsxs)(h.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m,{htmlFor:"symbol",children:"子币符号"}),(0,r.jsx)(c.I,{id:"symbol",placeholder:"大写字母A~Z和数字0~9，6个字符，例如: LIFE20",value:t,onChange:e=>n(e.target.value)})]}),a&&(0,r.jsxs)(p.bZ,{variant:"destructive",children:[(0,r.jsx)(w.Z,{className:"h-4 w-4"}),(0,r.jsx)(p.Cd,{children:"错误"}),(0,r.jsx)(p.X,{children:a})]}),b&&(0,r.jsxs)(p.bZ,{children:[(0,r.jsx)(w.Z,{className:"h-4 w-4"}),(0,r.jsx)(p.Cd,{children:"成功"}),(0,r.jsx)(p.X,{children:"代币部署成功！"})]})]}),(0,r.jsx)(h.eW,{children:(0,r.jsx)(l.z,{className:"w-full",onClick:T,disabled:_||!u||b,children:_?(0,r.jsx)(r.Fragment,{children:"部署中..."}):"提交"})})]})}function b(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.Z,{title:"Launch"}),(0,r.jsx)("main",{className:"flex-grow",children:(0,r.jsx)(C,{})})]})}},9008:function(e,t,n){e.exports=n(23867)},13876:function(e,t,n){"use strict";n.d(t,{a:function(){return i}});var r=n(66432),a=n(81946),s=n(87831);async function i(e,t){let n;let{abi:i,chainId:c,connector:l,...o}=t;n=t.account?t.account:(await (0,s.e)(e,{chainId:c,connector:l})).account;let u=e.getClient({chainId:c}),d=(0,a.s)(u,r.a,"simulateContract"),{result:f,request:x}=await d({...o,abi:i,account:n});return{chainId:u.chain.id,result:f,request:{__mode:"prepared",...x,chainId:c}}}},96128:function(e,t,n){"use strict";n.d(t,{T:function(){return p}});var r=n(14503),a=n(8998),s=n(33840),i=n(26445),c=n(33639),l=n(87469),o=n(61163),u=n(74688),d=n(93714),f=n(47531),x=n(79524),m=n(76404),h=n(99238);async function p(e,t){let{account:n=e.account,chain:p=e.chain,accessList:w,blobs:y,data:j,gas:v,gasPrice:N,maxFeePerBlobGas:g,maxFeePerGas:C,maxPriorityFeePerGas:b,nonce:Z,to:R,value:k,...T}=t;if(!n)throw new a.o({docsPath:"/docs/actions/wallet/sendTransaction"});let _=(0,r.T)(n);try{let n;if((0,f.F)(t),null!==p&&(n=await (0,d.s)(e,x.L,"getChainId")({}),(0,s.q)({currentChainId:n,chain:p})),"local"===_.type){let t=await (0,d.s)(e,m.Z,"prepareTransactionRequest")({account:_,accessList:w,blobs:y,chain:p,chainId:n,data:j,gas:v,gasPrice:N,maxFeePerBlobGas:g,maxFeePerGas:C,maxPriorityFeePerGas:b,nonce:Z,parameters:[...m.Q,"sidecars"],to:R,value:k,...T}),r=p?.serializers?.transaction,a=await _.signTransaction(t,{serializer:r});return await (0,d.s)(e,h.p,"sendRawTransaction")({serializedTransaction:a})}let r=e.chain?.formatters?.transactionRequest?.format,a=(r||u.tG)({...(0,o.K)(T,{format:r}),accessList:w,blobs:y,chainId:n,data:j,from:_.address,gas:v,gasPrice:N,maxFeePerBlobGas:g,maxFeePerGas:C,maxPriorityFeePerGas:b,nonce:Z,to:R,value:k});return await e.request({method:"eth_sendTransaction",params:[a]},{retryCount:0})}catch(e){throw function(e,{docsPath:t,...n}){let r=(()=>{let t=(0,l.k)(e,n);return t instanceof i.cj?e:t})();return new c.mk(r,{docsPath:t,...n})}(e,{...t,account:_,chain:t.chain||void 0})}}},61877:function(e,t,n){"use strict";n.d(t,{n:function(){return i}});var r=n(55629),a=n(93714),s=n(96128);async function i(e,t){let{abi:n,address:i,args:c,dataSuffix:l,functionName:o,...u}=t,d=(0,r.R)({abi:n,args:c,functionName:o});return(0,a.s)(e,s.T,"sendTransaction")({data:`${d}${l?l.replace("0x",""):""}`,to:i,...u})}},33840:function(e,t,n){"use strict";n.d(t,{q:function(){return a}});var r=n(80377);function a({chain:e,currentChainId:t}){if(!e)throw new r.Bk;if(t!==e.id)throw new r.Yl({chain:e,currentChainId:t})}},83540:function(e,t,n){"use strict";n.d(t,{A:function(){return x}});var r=n(95946),a=n(51973),s=n(23147),i=n(36083),c=n(81946);async function l(e,t){let{chainId:n,timeout:l=0,...o}=t,u=e.getClient({chainId:n}),d=(0,c.s)(u,a.e,"waitForTransactionReceipt"),f=await d({...o,timeout:l});if("reverted"===f.status){let e=(0,c.s)(u,s.f,"getTransaction"),t=await e({hash:f.transactionHash}),n=(0,c.s)(u,i.R,"call"),a=await n({...t,data:t.input,gasPrice:"eip1559"!==t.type?t.gasPrice:void 0,maxFeePerGas:"eip1559"===t.type?t.maxFeePerGas:void 0,maxPriorityFeePerGas:"eip1559"===t.type?t.maxPriorityFeePerGas:void 0});throw Error(a?.data?(0,r.rR)(`0x${a.data.substring(138)}`):"unknown reason")}return{...f,chainId:u.chain.id}}var o=n(36100),u=n(45631),d=n(82002),f=n(80666);function x(e={}){let{hash:t,query:n={}}=e,r=(0,f.Z)(e),a=(0,d.x)({config:r}),s=function(e,t={}){return{async queryFn({queryKey:n}){let{hash:r,...a}=n[1];if(!r)throw Error("hash is required");return l(e,{...a,onReplaced:t.onReplaced,hash:r})},queryKey:function(e={}){let{onReplaced:t,...n}=e;return["waitForTransactionReceipt",(0,o.OP)(n)]}(t)}}(r,{...e,chainId:e.chainId??a}),i=!!(t&&(n.enabled??!0));return(0,u.aM)({...n,...s,enabled:i})}},71366:function(e,t,n){"use strict";n.d(t,{S:function(){return d}});var r=n(98029),a=n(61877),s=n(81946),i=n(52425),c=n(87831),l=n(13876);async function o(e,t){let n,r;let{account:o,chainId:u,connector:d,__mode:f,...x}=t;n="object"==typeof o&&o?.type==="local"?e.getClient({chainId:u}):await (0,c.e)(e,{account:o??void 0,chainId:u,connector:d});let{connector:m}=(0,i.D)(e);if("prepared"===f||m?.supportsSimulation)r=x;else{let{request:t}=await (0,l.a)(e,{...x,account:o,chainId:u});r=t}let h=(0,s.s)(n,a.n,"writeContract");return await h({...r,...o?{account:o}:{},chain:u?{id:u}:null})}var u=n(80666);function d(e={}){var t;let{mutation:n}=e,a=(t=(0,u.Z)(e),{mutationFn:e=>o(t,e),mutationKey:["writeContract"]}),{mutate:s,mutateAsync:i,...c}=(0,r.D)({...n,...a});return{...c,writeContract:s,writeContractAsync:i}}}},function(e){e.O(0,[4335,2888,9774,179],function(){return e(e.s=48764)}),_N_E=e.O()}]);