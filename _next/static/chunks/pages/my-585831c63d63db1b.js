(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9236],{89245:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/my",function(){return t(29226)}])},27245:function(e,s,t){"use strict";t.d(s,{z:function(){return c}});var r=t(85893),n=t(67294),l=t(88426),a=t(45139),i=t(98997);let d=(0,a.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,s)=>{let{className:t,variant:n,size:a,asChild:c=!1,...o}=e,x=c?l.g7:"button";return(0,r.jsx)(x,{className:(0,i.cn)(d({variant:n,size:a,className:t})),ref:s,...o})});c.displayName="Button"},98997:function(e,s,t){"use strict";t.d(s,{cn:function(){return l}});var r=t(90512),n=t(98388);function l(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,n.m6)((0,r.W)(s))}},29226:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return y}});var r=t(85893),n=t(35337),l=t(92321),a=t(67294),i=t(93778),d=t(19638),c=t(91529),o=t(91318),x=t(27245),u=t(41664),m=t.n(u),f=()=>{let{token:e}=(0,a.useContext)(i.M)||{},{address:s}=(0,l.m)(),{balance:t,isPending:n,error:u}=(0,d.hS)(null==e?void 0:e.address,s);return n?(0,r.jsx)(o.Z,{}):u?(0,r.jsxs)("div",{children:["错误: ",u.message]}):(0,r.jsxs)("div",{className:"flex flex-col items-center max-w-4xl mx-auto p-4 bg-base-100 mb-4 border-t border-gray-100",children:[(0,r.jsx)("p",{className:"text-gray-500 text-sm",children:"持有代币数量"}),(0,r.jsxs)("p",{className:"mt-2",children:[n?(0,r.jsx)(o.Z,{}):(0,r.jsx)("span",{className:"text-orange-500 text-2xl font-bold",children:(0,c.LH)(t||0n)}),(0,r.jsx)("span",{className:"text-gray-500 ml-2",children:null==e?void 0:e.symbol})]}),(0,r.jsx)(x.z,{className:"mt-2 w-1/2 bg-blue-600 hover:bg-blue-700",asChild:!0,children:(0,r.jsx)(m(),{href:"/dex/swap",children:"去交易"})})]})},h=t(5028),g=()=>{let{token:e}=(0,a.useContext)(i.M)||{},{address:s}=(0,l.m)(),{stakedAmount:t,isPending:n,error:d}=(0,h.Mn)(null==e?void 0:e.address,s);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"w-full flex flex-col items-center rounded p-4 bg-base-100 mt-4",children:[(0,r.jsx)("div",{className:"w-full text-left mb-4",children:(0,r.jsx)("h2",{className:"relative pl-4 text-gray-700 text-base font-medium before:content-[''] before:absolute before:left-0 before:top-0 before:bottom-0 before:w-1 before:bg-red-500",children:"我参与行动的资产"})}),n?(0,r.jsx)(o.Z,{}):(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm text-gray-500 mr-4",children:"行动锁定代币总量"}),(0,r.jsx)("span",{className:"text-2xl font-bold text-orange-400 mr-1",children:(0,c.LH)(t||BigInt(0))}),(0,r.jsx)("span",{className:"text-sm text-gray-500",children:null==e?void 0:e.symbol})]}),d&&(0,r.jsx)("div",{className:"text-red-500",children:d.message})]})})},b=t(92180),j=()=>{let{token:e}=(0,a.useContext)(i.M)||{},{address:s}=(0,l.m)(),{slAmount:t,stAmount:n,promisedWaitingRounds:d,requestedUnstakeRound:u,govVotes:f,isPending:h,error:g}=(0,b.L)(null==e?void 0:e.address,s);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"w-full flex flex-col items-center rounded p-4 bg-base-100 mt-1",children:[(0,r.jsx)("div",{className:"w-full text-left mb-4",children:(0,r.jsx)("h2",{className:"relative pl-4 text-gray-700 text-base font-medium before:content-[''] before:absolute before:left-0 before:top-0 before:bottom-0 before:w-1 before:bg-red-500",children:"我参与治理的资产"})}),(0,r.jsxs)("div",{className:"flex w-full justify-center",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center flex-1",children:[(0,r.jsx)("span",{className:"text-sm text-gray-500",children:"流动性质押"}),(0,r.jsx)("span",{className:"text-2xl font-bold text-orange-400",children:h?(0,r.jsx)(o.Z,{}):(0,c.LH)(t||BigInt(0))})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center flex-1",children:[(0,r.jsx)("span",{className:"text-sm text-gray-500",children:"质押代币"}),(0,r.jsx)("span",{className:"text-2xl font-bold text-orange-400",children:h?(0,r.jsx)(o.Z,{}):(0,c.LH)(n||BigInt(0))})]})]}),(0,r.jsxs)("div",{className:"flex w-full justify-center mt-2",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center flex-1",children:[(0,r.jsx)("span",{className:"text-sm text-gray-500",children:"承诺释放间隔轮次"}),(0,r.jsxs)("span",{children:[(0,r.jsx)("span",{className:"text-2xl font-bold text-orange-400",children:h?(0,r.jsx)(o.Z,{}):"".concat(d||BigInt(0))}),(0,r.jsx)("span",{className:"text-sm text-gray-500",children:" 轮"})]})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center flex-1",children:[(0,r.jsx)("span",{className:"text-sm text-gray-500",children:"治理票数"}),(0,r.jsx)("span",{className:"text-2xl font-bold text-orange-400",children:h?(0,r.jsx)(o.Z,{}):(0,c.LH)(f||BigInt(0))})]})]}),(0,r.jsx)("div",{className:"flex w-full justify-center mt-2",children:(0,r.jsx)(x.z,{className:"w-1/2 bg-blue-600 hover:bg-blue-700",asChild:!0,children:(0,r.jsx)(m(),{href:"/my/govrewards",children:"查看治理奖励"})})})]})})},v=t(94782),p=t(45551),N=()=>{let{token:e}=(0,a.useContext)(i.M)||{},{address:s}=(0,l.m)(),{joinedActions:t,isPending:n,error:d}=(0,p.dB)((null==e?void 0:e.address)||"",s),{actionInfos:x,isPending:u,error:f}=(0,v.fT)((null==e?void 0:e.address)||"",(null==t?void 0:t.map(e=>e.actionId))||[]);return n||t&&t.length>0&&u?(0,r.jsx)(o.Z,{}):d?(0,r.jsx)("div",{children:"加载出错，请稍后再试。"}):(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsx)("h2",{className:"text-sm font-bold mb-4 text-gray-600",children:"我参与的行动"}),(null==t?void 0:t.length)?(0,r.jsx)("div",{className:"space-y-4",children:null==t?void 0:t.map((e,s)=>{var t,n;return(0,r.jsx)("div",{className:"bg-white p-4 rounded-lg mb-4",children:(0,r.jsxs)(m(),{href:"/my/actrewards?id=".concat(e.actionId),children:[(0,r.jsxs)("div",{className:"font-semibold mb-2",children:[(0,r.jsx)("span",{className:"text-gray-400 text-base mr-1",children:"No.".concat(e.actionId)}),(0,r.jsx)("span",{className:"text-gray-800 text-lg",children:null==x?void 0:null===(t=x[s])||void 0===t?void 0:t.body.action})]}),(0,r.jsx)("p",{className:"leading-tight",children:null==x?void 0:null===(n=x[s])||void 0===n?void 0:n.body.consensus}),(0,r.jsxs)("div",{className:"flex justify-between mt-1",children:[(0,r.jsxs)("span",{className:"text-sm",children:["参与到第 ",e.lastJoinedRound.toString()," 轮"]}),(0,r.jsxs)("span",{className:"text-sm",children:["参与代币数量：",(0,c.LH)(e.stakedAmount)]})]})]},e.actionId)},e.actionId)})}):(0,r.jsx)("div",{className:"text-sm text-gray-500 text-center",children:"没有行动"}),d&&(0,r.jsx)("div",{children:d.message}),f&&(0,r.jsx)("div",{children:f.message})]})},y=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.Z,{title:"我的"}),(0,r.jsxs)("main",{className:"flex-grow",children:[(0,r.jsx)(f,{}),(0,r.jsx)(j,{}),(0,r.jsx)(g,{}),(0,r.jsx)(N,{})]})]})},89810:function(e,s,t){"use strict";t.d(s,{u:function(){return d}});var r=t(37003),n=t(36100),l=t(82451),a=t(82002),i=t(37122);function d(e={}){let{abi:s,address:t,functionName:d,query:c={}}=e,o=e.code,x=(0,i.Z)(e),u=(0,a.x)({config:x}),m=function(e,s={}){return{async queryFn({queryKey:t}){let n=s.abi;if(!n)throw Error("abi is required");let{functionName:l,scopeKey:a,...i}=t[1],d=(()=>{let e=t[1];if(e.address)return{address:e.address};if(e.code)return{code:e.code};throw Error("address or code is required")})();if(!l)throw Error("functionName is required");return(0,r.L)(e,{abi:n,functionName:l,args:i.args,...d,...i})},queryKey:function(e={}){let{abi:s,...t}=e;return["readContract",(0,n.OP)(t)]}(s)}}(x,{...e,chainId:e.chainId??u}),f=!!((t||o)&&s&&d&&(c.enabled??!0));return(0,l.aM)({...c,...m,enabled:f,structuralSharing:c.structuralSharing??n.if})}}},function(e){e.O(0,[9215,3336,6789,2432,3601,5551,2180,2888,9774,179],function(){return e(e.s=89245)}),_N_E=e.O()}]);