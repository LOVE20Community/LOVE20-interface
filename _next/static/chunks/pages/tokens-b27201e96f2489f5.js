(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3064],{37985:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tokens",function(){return n(92622)}])},34680:function(e,r,n){"use strict";n.d(r,{Ol:function(){return a},SZ:function(){return l},Zb:function(){return u},aY:function(){return o},eW:function(){return d},ll:function(){return i}});var t=n(85893),s=n(67294),c=n(40108);let u=s.forwardRef((e,r)=>{let{className:n,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,c.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",n),...s})});u.displayName="Card";let a=s.forwardRef((e,r)=>{let{className:n,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,c.cn)("flex flex-col space-y-1.5 p-6",n),...s})});a.displayName="CardHeader";let i=s.forwardRef((e,r)=>{let{className:n,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,c.cn)("text-2xl font-semibold leading-none tracking-tight",n),...s})});i.displayName="CardTitle";let l=s.forwardRef((e,r)=>{let{className:n,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,c.cn)("text-sm text-muted-foreground",n),...s})});l.displayName="CardDescription";let o=s.forwardRef((e,r)=>{let{className:n,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,c.cn)("p-6 pt-0",n),...s})});o.displayName="CardContent";let d=s.forwardRef((e,r)=>{let{className:n,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,c.cn)("flex items-center p-6 pt-0",n),...s})});d.displayName="CardFooter"},68655:function(e,r,n){"use strict";n.d(r,{Z:function(){return t}});let t=(0,n(31134).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},23432:function(e,r,n){"use strict";n.d(r,{Z:function(){return t}});let t=(0,n(31134).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},92622:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return p}});var t=n(85893),s=n(58732),c=n(67294),u=n(27245);let a=(0,n(31134).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var i=n(34680),l=n(86501),o=n(11163),d=n(45551),f=n(70019),m=n(93778),x=n(42083);function h(){let e=(0,o.useRouter)(),{token:r,setToken:n}=(0,c.useContext)(m.M)||{},[s,h]=(0,c.useState)(0n),[p,y]=(0,c.useState)(BigInt(10)),[v,w]=(0,c.useState)([]);(0,c.useEffect)(()=>{w([]),h(0n),y(BigInt(10))},[]);let{tokens:N,isPending:g,error:j}=(0,f.N4)(s,p,!0),{tokens:b,launchInfos:k,isPending:E,error:R}=(0,d.OJ)(N||[]);(0,c.useEffect)(()=>{if(N&&b&&k){let e=b.map((e,n)=>{var t;return{name:e.name,symbol:e.symbol,address:N[n],decimals:Number(e.decimals),parentTokenAddress:k[n].parentTokenAddress,parentTokenSymbol:e.parentTokenSymbol,slTokenAddress:e.slAddress,stTokenAddress:e.stAddress,hasEnded:k[n].hasEnded,voteOriginBlocks:null!==(t=null==r?void 0:r.voteOriginBlocks)&&void 0!==t?t:0}});w(r=>{let n=new Set(r.map(e=>e.symbol));return[...r,...e.filter(e=>!n.has(e.symbol))]})}},[b,k]);let C=(0,c.useCallback)(()=>{!g&&b&&b.length>0&&(h(p),y(p+BigInt(10)))},[g,b,p]),T=function(e,r,n){var t=this,s=(0,c.useRef)(null),u=(0,c.useRef)(0),a=(0,c.useRef)(null),i=(0,c.useRef)([]),l=(0,c.useRef)(),o=(0,c.useRef)(),d=(0,c.useRef)(e),f=(0,c.useRef)(!0);d.current=e;var m="undefined"!=typeof window,x=!r&&0!==r&&m;if("function"!=typeof e)throw TypeError("Expected a function");r=+r||0;var h=!!(n=n||{}).leading,p=!("trailing"in n)||!!n.trailing,y="maxWait"in n,v="debounceOnServer"in n&&!!n.debounceOnServer,w=y?Math.max(+n.maxWait||0,r):null;return(0,c.useEffect)(function(){return f.current=!0,function(){f.current=!1}},[]),(0,c.useMemo)(function(){var e=function(e){var r=i.current,n=l.current;return i.current=l.current=null,u.current=e,o.current=d.current.apply(n,r)},n=function(e,r){x&&cancelAnimationFrame(a.current),a.current=x?requestAnimationFrame(e):setTimeout(e,r)},c=function(e){if(!f.current)return!1;var n=e-s.current;return!s.current||n>=r||n<0||y&&e-u.current>=w},N=function(r){return a.current=null,p&&i.current?e(r):(i.current=l.current=null,o.current)},g=function e(){var t=Date.now();if(c(t))return N(t);if(f.current){var a=r-(t-s.current);n(e,y?Math.min(a,w-(t-u.current)):a)}},j=function(){if(m||v){var d=Date.now(),x=c(d);if(i.current=[].slice.call(arguments),l.current=t,s.current=d,x){if(!a.current&&f.current)return u.current=s.current,n(g,r),h?e(s.current):o.current;if(y)return n(g,r),e(s.current)}return a.current||n(g,r),o.current}};return j.cancel=function(){a.current&&(x?cancelAnimationFrame(a.current):clearTimeout(a.current)),u.current=0,i.current=s.current=l.current=a.current=null},j.isPending=function(){return!!a.current},j.flush=function(){return a.current?N(Date.now()):o.current},j},[h,y,r,w,p,x,m,v])}(()=>{window.innerHeight+window.scrollY>=document.body.offsetHeight-500&&C()},200);(0,c.useEffect)(()=>(window.addEventListener("scroll",T),()=>{window.removeEventListener("scroll",T)}),[T]);let _=r=>{if(!n){l.Am.error("请先选择代币");return}n(r),r.hasEnded?e.push("/acting?symbol=".concat(r.symbol)):e.push("/launch?symbol=".concat(r.symbol))};return j||R?(0,t.jsx)("div",{className:"text-red-500",children:"加载错误，请稍后再试。"}):(0,t.jsxs)("div",{className:"space-y-4 m-4",children:[v.map((e,r)=>(0,t.jsx)(i.Zb,{onClick:()=>_(e),children:(0,t.jsxs)(i.aY,{className:"p-4 flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"flex items-center gap-2 ",children:[(0,t.jsx)("span",{className:"font-semibold mr-4",children:e.symbol}),(0,t.jsx)("span",{className:"text-greyscale-500 text-sm",children:"父币 "}),(0,t.jsx)("span",{className:"text-sm",children:e.parentTokenSymbol})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.hasEnded?(0,t.jsx)("span",{className:"text-greyscale-500",children:"发射已完成"}):(0,t.jsx)("span",{className:"text-secondary",children:"发射中"})})]}),(0,t.jsx)(u.z,{variant:"ghost",size:"icon",children:(0,t.jsx)(a,{className:"h-4 w-4"})})]})},r)),(g||E)&&(0,t.jsx)(x.Z,{})]})}function p(){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.Z,{title:"代币列表"}),(0,t.jsxs)("main",{className:"flex-grow",children:[(0,t.jsx)("header",{className:"flex justify-between items-center m-4",children:(0,t.jsx)("h1",{className:"text-lg font-bold",children:"所有代币"})}),(0,t.jsx)(h,{})]})]})}},9008:function(e,r,n){e.exports=n(23867)}},function(e){e.O(0,[4335,2888,9774,179],function(){return e(e.s=37985)}),_N_E=e.O()}]);