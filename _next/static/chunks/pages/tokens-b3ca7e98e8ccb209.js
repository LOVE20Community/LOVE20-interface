(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3064],{37985:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tokens",function(){return n(50734)}])},42083:function(e,t,n){"use strict";var a=n(85893);t.Z=()=>(0,a.jsx)("span",{className:"flex justify-center items-center",children:(0,a.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-3 text-greyscale-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]})})},50734:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return N}});var a=n(85893),i=n(9008),s=n.n(i),r=n(67294),u=n(63977),p=n(37636),d=e=>{let{title:t}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(s(),{children:[(0,a.jsx)("title",{children:"".concat(t," - LIFE20")}),(0,a.jsx)("meta",{name:"".concat(t," - LIFE20"),content:"A Web3 DApp for Life20 token management"})]}),(0,a.jsxs)("header",{className:"flex justify-between items-center py-2 px-4",children:[(0,a.jsx)(p.vP,{className:"-ml-1"}),(0,a.jsx)(u.NL,{})]})]})},l=n(27245);let y=(0,n(31134).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var o=n(40108);let m=r.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",n),...i})});m.displayName="Card",r.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",n),...i})}).displayName="CardHeader",r.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",n),...i})}).displayName="CardTitle",r.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",n),...i})}).displayName="CardDescription";let c=r.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("p-6 pt-0",n),...i})});c.displayName="CardContent",r.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("flex items-center p-6 pt-0",n),...i})}).displayName="CardFooter";var T=n(86501),f=n(11163),b=n(45551),h=n(89810);let w=[{type:"function",name:"FIRST_PARENT_TOKEN_FUNDRAISING_GOAL",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"LAUNCH_AMOUNT",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"PARENT_TOKEN_FUNDRAISING_GOAL",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"SECOND_HALF_MIN_BLOCKS",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"TOKEN_SYMBOL_LENGTH",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"TOTAL_SUPPLY",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"WITHDRAW_FEE_RATE",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"WITHDRAW_WAITING_BLOCKS",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"_launchedChildTokens",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"_launchingChildTokens",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"allocatingAmount",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"accountAddress",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"canDeployToken",inputs:[{name:"accountAddress",type:"address",internalType:"address"},{name:"parentTokenAddress",type:"address",internalType:"address"}],outputs:[{name:"isEligible",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"childTokenNum",inputs:[{name:"parentTokenAddress",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"childTokensByPage",inputs:[{name:"parentTokenAddress",type:"address",internalType:"address"},{name:"start",type:"uint256",internalType:"uint256"},{name:"end",type:"uint256",internalType:"uint256"},{name:"reverse",type:"bool",internalType:"bool"}],outputs:[{name:"",type:"address[]",internalType:"address[]"}],stateMutability:"view"},{type:"function",name:"childTokensByParent",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"claim",inputs:[{name:"tokenAddress",type:"address",internalType:"address"}],outputs:[{name:"receivedTokenAmount",type:"uint256",internalType:"uint256"},{name:"extraRefund",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"claimed",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"contribute",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"parentTokenAmount",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"contributed",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"deployToken",inputs:[{name:"tokenSymbol",type:"string",internalType:"string"},{name:"parentTokenAddress",type:"address",internalType:"address"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"nonpayable"},{type:"function",name:"extraRefunded",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"initialize",inputs:[{name:"submitAddress_",type:"address",internalType:"address"},{name:"mintAddress_",type:"address",internalType:"address"},{name:"stakeAddress_",type:"address",internalType:"address"},{name:"tokenSymbolLength",type:"uint256",internalType:"uint256"},{name:"firstParentTokenFundraisingGoal",type:"uint256",internalType:"uint256"},{name:"parentTokenFundraisingGoal",type:"uint256",internalType:"uint256"},{name:"secondHalfMinBlocks",type:"uint256",internalType:"uint256"},{name:"totalSupply",type:"uint256",internalType:"uint256"},{name:"launchAmount",type:"uint256",internalType:"uint256"},{name:"withdrawFeeRatePercent",type:"uint256",internalType:"uint256"},{name:"withdrawWaitingBlocks",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"initialized",inputs:[],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"lastContributedBlock",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"launchInfos",inputs:[{name:"addresses",type:"address[]",internalType:"address[]"}],outputs:[{name:"launchInfos_",type:"tuple[]",internalType:"struct LaunchInfo[]",components:[{name:"parentTokenAddress",type:"address",internalType:"address"},{name:"parentTokenFundraisingGoal",type:"uint256",internalType:"uint256"},{name:"secondHalfMinBlocks",type:"uint256",internalType:"uint256"},{name:"launchAmount",type:"uint256",internalType:"uint256"},{name:"startBlock",type:"uint256",internalType:"uint256"},{name:"secondHalfStartBlock",type:"uint256",internalType:"uint256"},{name:"hasEnded",type:"bool",internalType:"bool"},{name:"participantCount",type:"uint256",internalType:"uint256"},{name:"totalContributed",type:"uint256",internalType:"uint256"},{name:"totalExtraRefunded",type:"uint256",internalType:"uint256"}]}],stateMutability:"view"},{type:"function",name:"launchedChildTokenNum",inputs:[{name:"parentTokenAddress",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"launchedChildTokensByPage",inputs:[{name:"parentTokenAddress",type:"address",internalType:"address"},{name:"start",type:"uint256",internalType:"uint256"},{name:"end",type:"uint256",internalType:"uint256"},{name:"reverse",type:"bool",internalType:"bool"}],outputs:[{name:"",type:"address[]",internalType:"address[]"}],stateMutability:"view"},{type:"function",name:"launchedTokenNum",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"launchedTokens",inputs:[{name:"",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"launchedTokensByPage",inputs:[{name:"start",type:"uint256",internalType:"uint256"},{name:"end",type:"uint256",internalType:"uint256"},{name:"reverse",type:"bool",internalType:"bool"}],outputs:[{name:"",type:"address[]",internalType:"address[]"}],stateMutability:"view"},{type:"function",name:"launches",inputs:[{name:"",type:"address",internalType:"address"}],outputs:[{name:"parentTokenAddress",type:"address",internalType:"address"},{name:"parentTokenFundraisingGoal",type:"uint256",internalType:"uint256"},{name:"secondHalfMinBlocks",type:"uint256",internalType:"uint256"},{name:"launchAmount",type:"uint256",internalType:"uint256"},{name:"startBlock",type:"uint256",internalType:"uint256"},{name:"secondHalfStartBlock",type:"uint256",internalType:"uint256"},{name:"hasEnded",type:"bool",internalType:"bool"},{name:"participantCount",type:"uint256",internalType:"uint256"},{name:"totalContributed",type:"uint256",internalType:"uint256"},{name:"totalExtraRefunded",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"launchingChildTokenNum",inputs:[{name:"parentTokenAddress",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"launchingChildTokensByPage",inputs:[{name:"parentTokenAddress",type:"address",internalType:"address"},{name:"start",type:"uint256",internalType:"uint256"},{name:"end",type:"uint256",internalType:"uint256"},{name:"reverse",type:"bool",internalType:"bool"}],outputs:[{name:"",type:"address[]",internalType:"address[]"}],stateMutability:"view"},{type:"function",name:"launchingTokenNum",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"launchingTokens",inputs:[{name:"",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"launchingTokensByPage",inputs:[{name:"start",type:"uint256",internalType:"uint256"},{name:"end",type:"uint256",internalType:"uint256"},{name:"reverse",type:"bool",internalType:"bool"}],outputs:[{name:"",type:"address[]",internalType:"address[]"}],stateMutability:"view"},{type:"function",name:"mintAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"participatedTokenNum",inputs:[{name:"walletAddress",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"participatedTokensByAccount",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"participatedTokensByPage",inputs:[{name:"walletAddress",type:"address",internalType:"address"},{name:"start",type:"uint256",internalType:"uint256"},{name:"end",type:"uint256",internalType:"uint256"},{name:"reverse",type:"bool",internalType:"bool"}],outputs:[{name:"",type:"address[]",internalType:"address[]"}],stateMutability:"view"},{type:"function",name:"stakeAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"submitAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"tokenAddressBySymbol",inputs:[{name:"",type:"string",internalType:"string"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"tokenAddresses",inputs:[{name:"",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"tokenNum",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"tokensByPage",inputs:[{name:"start",type:"uint256",internalType:"uint256"},{name:"end",type:"uint256",internalType:"uint256"},{name:"reverse",type:"bool",internalType:"bool"}],outputs:[{name:"",type:"address[]",internalType:"address[]"}],stateMutability:"view"},{type:"function",name:"withdraw",inputs:[{name:"tokenAddress",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"withdrawFee",inputs:[{name:"tokenAddress",type:"address",internalType:"address"},{name:"account",type:"address",internalType:"address"}],outputs:[{name:"fee",type:"uint256",internalType:"uint256"}],stateMutability:"view"}],v=(e,t,n)=>{let{data:a,isPending:i,error:s}=(0,h.u)({address:"0x5978945B0C36a5442FD4cc5483091c08202DF044",abi:w,functionName:"tokensByPage",args:[e,t,n]});return{tokens:a,isPending:i,error:s}};var k=n(93778),x=n(42083);function g(){let e=(0,f.useRouter)(),{setToken:t}=(0,r.useContext)(k.M)||{},[n,i]=(0,r.useState)(0n),[s,u]=(0,r.useState)(BigInt(10)),[p,d]=(0,r.useState)([]);(0,r.useEffect)(()=>{d([]),i(0n),u(BigInt(10))},[]);let{tokens:o,isPending:h,error:w}=v(n,s,!0),{tokens:g,launchInfos:N,isPending:A,error:M}=(0,b.OJ)(o||[]);(0,r.useEffect)(()=>{if(o&&g&&N){let e=g.map((e,t)=>({name:e.name,symbol:e.symbol,address:o[t],decimals:Number(e.decimals),parentTokenAddress:N[t].parentTokenAddress,parentTokenSymbol:e.parentTokenSymbol,slTokenAddress:e.slAddress,stTokenAddress:e.stAddress,hasEnded:N[t].hasEnded}));d(t=>{let n=new Set(t.map(e=>e.symbol));return[...t,...e.filter(e=>!n.has(e.symbol))]})}},[g,N]);let j=(0,r.useCallback)(()=>{!h&&g&&g.length>0&&(i(s),u(s+BigInt(10)))},[h,g,s]),_=function(e,t,n){var a=this,i=(0,r.useRef)(null),s=(0,r.useRef)(0),u=(0,r.useRef)(null),p=(0,r.useRef)([]),d=(0,r.useRef)(),l=(0,r.useRef)(),y=(0,r.useRef)(e),o=(0,r.useRef)(!0);y.current=e;var m="undefined"!=typeof window,c=!t&&0!==t&&m;if("function"!=typeof e)throw TypeError("Expected a function");t=+t||0;var T=!!(n=n||{}).leading,f=!("trailing"in n)||!!n.trailing,b="maxWait"in n,h="debounceOnServer"in n&&!!n.debounceOnServer,w=b?Math.max(+n.maxWait||0,t):null;return(0,r.useEffect)(function(){return o.current=!0,function(){o.current=!1}},[]),(0,r.useMemo)(function(){var e=function(e){var t=p.current,n=d.current;return p.current=d.current=null,s.current=e,l.current=y.current.apply(n,t)},n=function(e,t){c&&cancelAnimationFrame(u.current),u.current=c?requestAnimationFrame(e):setTimeout(e,t)},r=function(e){if(!o.current)return!1;var n=e-i.current;return!i.current||n>=t||n<0||b&&e-s.current>=w},v=function(t){return u.current=null,f&&p.current?e(t):(p.current=d.current=null,l.current)},k=function e(){var a=Date.now();if(r(a))return v(a);if(o.current){var u=t-(a-i.current);n(e,b?Math.min(u,w-(a-s.current)):u)}},x=function(){if(m||h){var y=Date.now(),c=r(y);if(p.current=[].slice.call(arguments),d.current=a,i.current=y,c){if(!u.current&&o.current)return s.current=i.current,n(k,t),T?e(i.current):l.current;if(b)return n(k,t),e(i.current)}return u.current||n(k,t),l.current}};return x.cancel=function(){u.current&&(c?cancelAnimationFrame(u.current):clearTimeout(u.current)),s.current=0,p.current=i.current=d.current=u.current=null},x.isPending=function(){return!!u.current},x.flush=function(){return u.current?v(Date.now()):l.current},x},[T,b,t,w,f,c,m,h])}(()=>{window.innerHeight+window.scrollY>=document.body.offsetHeight-500&&j()},200);(0,r.useEffect)(()=>(window.addEventListener("scroll",_),()=>{window.removeEventListener("scroll",_)}),[_]);let E=n=>{if(!t){T.Am.error("请先选择代币");return}t(n),n.hasEnded?e.push("/acting?symbol=".concat(n.symbol)):e.push("/launch?symbol=".concat(n.symbol))};return w||M?(0,a.jsx)("div",{className:"text-red-500",children:"加载错误，请稍后再试。"}):(0,a.jsxs)("div",{className:"space-y-4 m-4",children:[p.map((e,t)=>(0,a.jsx)(m,{onClick:()=>E(e),children:(0,a.jsxs)(c,{className:"p-4 flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"flex items-center gap-2 ",children:[(0,a.jsx)("span",{className:"font-semibold mr-4",children:e.symbol}),(0,a.jsx)("span",{className:"text-greyscale-500 text-sm",children:"父币 "}),(0,a.jsx)("span",{className:"text-sm",children:e.parentTokenSymbol})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:e.hasEnded?(0,a.jsx)("span",{className:"text-greyscale-500",children:"发射已完成"}):(0,a.jsx)("span",{className:"text-secondary",children:"发射中"})})]}),(0,a.jsx)(l.z,{variant:"ghost",size:"icon",children:(0,a.jsx)(y,{className:"h-4 w-4"})})]})},t)),(h||A)&&(0,a.jsx)(x.Z,{})]})}function N(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d,{title:"Launch"}),(0,a.jsxs)("main",{className:"flex-grow",children:[(0,a.jsx)("header",{className:"flex justify-between items-center m-4",children:(0,a.jsx)("h1",{className:"text-lg font-bold",children:"所有代币"})}),(0,a.jsx)(g,{})]})]})}},9008:function(e,t,n){e.exports=n(23867)}},function(e){e.O(0,[2888,9774,179],function(){return e(e.s=37985)}),_N_E=e.O()}]);