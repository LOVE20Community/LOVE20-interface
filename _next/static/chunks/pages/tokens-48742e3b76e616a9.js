(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3064],{37985:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tokens",function(){return t(92929)}])},34680:function(e,n,t){"use strict";t.d(n,{Ol:function(){return i},SZ:function(){return u},Zb:function(){return o},aY:function(){return d},eW:function(){return c},ll:function(){return l}});var r=t(85893),a=t(67294),s=t(40108);let o=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:n,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});o.displayName="Card";let i=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:n,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",t),...a})});i.displayName="CardHeader";let l=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:n,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});l.displayName="CardTitle";let u=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:n,className:(0,s.cn)("text-sm text-muted-foreground",t),...a})});u.displayName="CardDescription";let d=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:n,className:(0,s.cn)("p-6 pt-0",t),...a})});d.displayName="CardContent";let c=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:n,className:(0,s.cn)("flex items-center p-6 pt-0",t),...a})});c.displayName="CardFooter"},4307:function(e,n,t){"use strict";t.d(n,{Z:function(){return r}});let r=(0,t(31134).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},68655:function(e,n,t){"use strict";t.d(n,{Z:function(){return r}});let r=(0,t(31134).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},23432:function(e,n,t){"use strict";t.d(n,{Z:function(){return r}});let r=(0,t(31134).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},37436:function(e,n,t){"use strict";t.d(n,{Z:function(){return T}});var r=t(85893),a=t(9008),s=t.n(a),o=t(67294),i=t(3294),l=t(68655),u=t(12003),d=t(40108);let c=(0,u.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),f=o.forwardRef((e,n)=>{let{className:t,variant:a,...s}=e;return(0,r.jsx)("div",{ref:n,role:"alert",className:(0,d.cn)(c({variant:a}),t),...s})});f.displayName="Alert";let m=o.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,r.jsx)("h5",{ref:n,className:(0,d.cn)("mb-1 font-medium leading-none tracking-tight",t),...a})});m.displayName="AlertTitle";let x=o.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:n,className:(0,d.cn)("text-sm [&_p]:leading-relaxed",t),...a})});x.displayName="AlertDescription";var h=t(95049);let N=()=>{let{error:e,setError:n}=(0,h.V)(),[t,a]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{e&&a(!0)},[e,n]),t&&e)?(0,r.jsxs)(f,{variant:"destructive",children:[(0,r.jsx)(l.Z,{className:"h-4 w-4"}),(0,r.jsx)(m,{children:e.name}),(0,r.jsx)(x,{children:e.message})]}):null};var g=t(5884),v=t(92321),T=e=>{let{title:n}=e,{address:t,chain:a}=(0,v.m)(),{setError:l}=(0,h.V)();return(0,o.useEffect)(()=>{t&&!a&&l({name:t?"钱包网络错误":"未连接钱包",message:t?"请切换到 ".concat("thinkium801"," 网络"):"请先连接钱包，再进行操作"})},[t,a]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s(),{children:[(0,r.jsx)("title",{children:"".concat(n," - LIFE20")}),(0,r.jsx)("meta",{name:"".concat(n," - LIFE20"),content:"A Web3 DApp for Life20 token management"})]}),(0,r.jsxs)("header",{className:"flex justify-between items-center py-2 px-4",children:[(0,r.jsx)(g.vP,{className:"-ml-1"}),(0,r.jsx)(i.NL,{})]}),(0,r.jsx)("div",{className:"px-4",children:(0,r.jsx)(N,{})})]})}},67068:function(e,n,t){"use strict";t.d(n,{S:function(){return o}});let r={launch:{AlreadyInitialized:"已初始化，无需再次初始化",InvalidTokenSymbol:"无效的代币符号",TokenSymbolExists:"代币符号已存在",NotEligibleToDeployToken:"不符合部署代币的条件",LaunchAlreadyEnded:"公平发射已结束，无法进行操作",LaunchNotEnded:"公平发射未结束，无法进行操作",NoContribution:"没有申购，无法操作",TokensAlreadyClaimed:"代币已领取，请勿重复领取",TransferFailed:"转账失败，请稍后重试",LaunchAlreadyExists:"公平发射已存在",ParentTokenNotSet:"父代币未设置",ZeroContribution:"申购数量不能为0",InvalidParentToken:"无效的父代币"},join:{AlreadyInitialized:"已初始化",AmountIsZero:"数量不能为0",AddressCannotBeZero:"地址不能为空",CannotGenerateAtCurrentRound:"不能在当前轮次生成",LastBlocksOfRoundCannotJoin:"每轮最后".concat("1","个区块不能加入"),ActionNotVoted:"该行动本轮没有投票",TransferFailed:"转账失败",InvalidToAddress:"目标地址无效",JoinedAmountIsZero:"加入数量为0",NotInWhiteList:"该地址不在白名单",JoinAmountExceedsMaxStake:"加入数量超过最大质押数量",RoundsIsZero:"轮次为0",RoundNotStarted:"轮次还没有开始，请耐心等待"},mint:{RoundNotFinished:"轮次未结束，无法铸造代币奖励",NoRewardAvailable:"没有奖励可用",RoundStartMustBeLessOrEqualToRoundEnd:"轮次开始必须小于或等于轮次结束",NotEnoughReward:"奖励不足，无法铸造",NotEnoughRewardToBurn:"奖励不足，无法销毁",RoundNotStarted:"轮次还没有开始，请耐心等待"},stake:{NotAllowedToStakeAtRoundZero:"不允许在0轮进行质押",InvalidToAddress:"无效的接收地址",StakeAmountMustBeSet:"质押数量必须大于0",ReleaseAlreadyRequested:"已请求释放",PromisedWaitingRoundsOutOfRange:"承诺等待的轮次超出范围",PromisedWaitingRoundsMustBeGreaterOrEqualThanBefore:"承诺等待的轮次必须大于或等于之前的轮次",NoStakedLiquidity:"无质押的流动性",NoStakedLiquidityOrToken:"没有质押的流动性或代币",AlreadyUnstaked:"已解除质押，无需再次解除",UnableToUnstakeAtRoundZero:"无法在第0轮解除质押",NotEnoughWaitingRounds:"等待轮次数量不足",RoundHasNotStartedYet:"轮次尚未开始",TokenAmountNotEnough:"代币数量不足",TransferTokenAmountForLPFailed:"为LP转账代币数量失败",TransferParentTokenAmountForLPFailed:"为LP转账父代币数量失败",TransferTokenAmountFailed:"转账代币数量失败",TransferSLTokenFailed:"转账SL代币失败",TransferSTTokenFailed:"转账ST代币失败",TransferParentTokenFailed:"转账父代币失败","transfer amount exceeds balance":"转账数量超过余额"},submit:{CannotSubmitAction:"您没有权限提交提案，请先质押获取足够代理票数",ActionIdNotExist:"提案ID不存在",ProposalIndexOutOfRange:"提案索引超出范围",StartGreaterThanEnd:"开始时间大于结束时间",MaxStakeZero:"最大质押数量必须大于0",MaxRandomAccountsZero:"最大随机账户数量必须大于0",AlreadySubmitted:"该提案已提交，请勿重复提交",OnlyOneSubmitPerRound:"每个轮次，1个地址只能提交1个行动"},token:{AlreadyInitialized:"已初始化",InvalidAddress:"无效的地址",NotEligibleToMint:"不符合铸造代币的条件",ExceedsMaxSupply:"超过最大供应量",InsufficientBalance:"余额不足",TransferFailed:"转账失败，请稍后重试",InvalidSupply:"无效的供应量"},slToken:{NotEligibleToMint:"不符合铸造代币的条件",InvalidAddress:"无效的地址",NoTokensToBurn:"没有代币可销毁",InsufficientLiquidity:"流动性不足",TotalLpExceedsBalance:"总LP数量超过余额",TransferFailed:"转账失败，请稍后重试"},stToken:{NotEligibleToMint:"不符合铸造代币的条件",InvalidAddress:"无效的地址",NoTokensToBurn:"没有代币可销毁",TransferFailed:"转账失败，请稍后重试"},verify:{AlreadyInitialized:"已初始化",AddressCannotBeZero:"地址不能为空",FirstTokenAddressCannotBeZero:"第一个代币地址不能为空",RandomAddressCannotBeZero:"随机地址不能为空",ScoresAndAccountsLengthMismatch:"分数和地址数量不匹配",ScoresExceedVotesNum:"分数超过投票数量",RoundNotStarted:"轮次还没有开始，请耐心等待"},vote:{InvalidActionIds:"无效的提案ID",CannotVote:"没有权限投票",NotEnoughVotesLeft:"投票数量不足",VotesMustBeGreaterThanZero:"投票数量必须大于0"},uniswapV2Router:{EXPIRED:"交易已过期，请重新交易",INSUFFICIENT_A_AMOUNT:"A代币数量不足，请调整输入数量",INSUFFICIENT_B_AMOUNT:"B代币数量不足，请调整输入数量",INSUFFICIENT_OUTPUT_AMOUNT:"目标代币数量不足，请调整输入数量",EXCESSIVE_INPUT_AMOUNT:"输入数量过多，请调整输入数量",INVALID_PATH:"无效的兑换路径"}};var a=t(95049),s=t(67294);let o=()=>{let{setError:e}=(0,a.V)();return{handleContractError:(0,s.useCallback)((n,t)=>{console.error("context",t),console.error("error",n),e(function(e,n){let t=null!=e?e:"",a=t.match(/(?:([A-Za-z0-9_]+)\()|(?:ERC20:\s*(.+))/),s="";a&&(void 0!=a[1]||void 0!=a[2])&&(a[1]?s=a[1]:a[2]&&(s="".concat(a[2])));let o=r[n];if(o&&o[s])return{name:"交易错误",message:o[s]};let i=t.match(/User denied transaction signature/)?"用户取消了交易":"";if(i)return{name:"交易提示",message:i};let l=function(e){let n=e.split("\n").find(e=>e.trim().startsWith("Error:"));if(n){var t;let e=null===(t=n.split("Error:")[1])||void 0===t?void 0:t.trim();if(e)return e}let r=e.split("\n"),a=r.findIndex(e=>e.includes("the following reason:"));if(-1!==a&&a+1<r.length){let e=r[a+1].trim();if(e)return e}return""}(t);return l?{name:"交易错误",message:l}:{name:"交易错误",message:"交易失败，请稍后刷新重试"}}(n.message,t))},[e])}}},92929:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return g}});var r=t(85893),a=t(37436),s=t(67294),o=t(27245),i=t(4307),l=t(34680),u=t(86501),d=t(11163),c=t(45551),f=t(70019),m=t(67068),x=t(93778),h=t(42083);function N(){let e=(0,d.useRouter)(),{token:n,setToken:t}=(0,s.useContext)(x.M)||{},[a,N]=(0,s.useState)(0n),[g,v]=(0,s.useState)(BigInt(10)),[T,p]=(0,s.useState)([]);(0,s.useEffect)(()=>{p([]),N(0n),v(BigInt(10))},[]);let{tokens:y,isPending:A,error:k}=(0,f.N4)(a,g,!0),{tokens:E,launchInfos:b,isPending:R,error:j}=(0,c.OJ)(y||[]);(0,s.useEffect)(()=>{if(y&&E&&b){let e=E.map((e,t)=>{var r;return{name:e.name,symbol:e.symbol,address:y[t],decimals:Number(e.decimals),parentTokenAddress:b[t].parentTokenAddress,parentTokenSymbol:e.parentTokenSymbol,slTokenAddress:e.slAddress,stTokenAddress:e.stAddress,initialStakeRound:Number(e.initialStakeRound),hasEnded:b[t].hasEnded,voteOriginBlocks:null!==(r=null==n?void 0:n.voteOriginBlocks)&&void 0!==r?r:0}});p(n=>{let t=new Set(n.map(e=>e.symbol));return[...n,...e.filter(e=>!t.has(e.symbol))]})}},[E,b]);let S=(0,s.useCallback)(()=>{!A&&E&&E.length>0&&(N(g),v(g+BigInt(10)))},[A,E,g]),w=function(e,n,t){var r=this,a=(0,s.useRef)(null),o=(0,s.useRef)(0),i=(0,s.useRef)(null),l=(0,s.useRef)([]),u=(0,s.useRef)(),d=(0,s.useRef)(),c=(0,s.useRef)(e),f=(0,s.useRef)(!0);c.current=e;var m="undefined"!=typeof window,x=!n&&0!==n&&m;if("function"!=typeof e)throw TypeError("Expected a function");n=+n||0;var h=!!(t=t||{}).leading,N=!("trailing"in t)||!!t.trailing,g="maxWait"in t,v="debounceOnServer"in t&&!!t.debounceOnServer,T=g?Math.max(+t.maxWait||0,n):null;return(0,s.useEffect)(function(){return f.current=!0,function(){f.current=!1}},[]),(0,s.useMemo)(function(){var e=function(e){var n=l.current,t=u.current;return l.current=u.current=null,o.current=e,d.current=c.current.apply(t,n)},t=function(e,n){x&&cancelAnimationFrame(i.current),i.current=x?requestAnimationFrame(e):setTimeout(e,n)},s=function(e){if(!f.current)return!1;var t=e-a.current;return!a.current||t>=n||t<0||g&&e-o.current>=T},p=function(n){return i.current=null,N&&l.current?e(n):(l.current=u.current=null,d.current)},y=function e(){var r=Date.now();if(s(r))return p(r);if(f.current){var i=n-(r-a.current);t(e,g?Math.min(i,T-(r-o.current)):i)}},A=function(){if(m||v){var c=Date.now(),x=s(c);if(l.current=[].slice.call(arguments),u.current=r,a.current=c,x){if(!i.current&&f.current)return o.current=a.current,t(y,n),h?e(a.current):d.current;if(g)return t(y,n),e(a.current)}return i.current||t(y,n),d.current}};return A.cancel=function(){i.current&&(x?cancelAnimationFrame(i.current):clearTimeout(i.current)),o.current=0,l.current=a.current=u.current=i.current=null},A.isPending=function(){return!!i.current},A.flush=function(){return i.current?p(Date.now()):d.current},A},[h,g,n,T,N,x,m,v])}(()=>{window.innerHeight+window.scrollY>=document.body.offsetHeight-500&&S()},200);(0,s.useEffect)(()=>(window.addEventListener("scroll",w),()=>{window.removeEventListener("scroll",w)}),[w]);let I=n=>{if(!t){u.Am.error("请先选择代币");return}t(n),n.hasEnded?e.push("/acting/?symbol=".concat(n.symbol)):e.push("/launch/?symbol=".concat(n.symbol))},{handleContractError:C}=(0,m.S)();return(0,s.useEffect)(()=>{k&&C(k,"launch"),j&&C(j,"dataViewer")},[k,j]),(0,r.jsxs)("div",{className:"space-y-4 m-4",children:[T.map((e,n)=>(0,r.jsx)(l.Zb,{onClick:()=>I(e),children:(0,r.jsxs)(l.aY,{className:"p-4 flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"flex items-center gap-2 ",children:[(0,r.jsx)("span",{className:"font-semibold mr-4",children:e.symbol}),(0,r.jsx)("span",{className:"text-greyscale-500 text-sm",children:"父币 "}),(0,r.jsx)("span",{className:"text-sm",children:e.parentTokenSymbol})]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:e.hasEnded?(0,r.jsx)("span",{className:"text-greyscale-500",children:"发射已完成"}):(0,r.jsx)("span",{className:"text-secondary",children:"发射中"})})]}),(0,r.jsx)(o.z,{variant:"ghost",size:"icon",children:(0,r.jsx)(i.Z,{className:"h-4 w-4"})})]})},n)),(A||R)&&(0,r.jsx)(h.Z,{})]})}function g(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.Z,{title:"代币列表"}),(0,r.jsxs)("main",{className:"flex-grow",children:[(0,r.jsx)("header",{className:"flex justify-between items-center m-4",children:(0,r.jsx)("h1",{className:"text-lg font-bold",children:"所有代币"})}),(0,r.jsx)(N,{})]})]})}},9008:function(e,n,t){e.exports=t(23867)}},function(e){e.O(0,[6202,2888,9774,179],function(){return e(e.s=37985)}),_N_E=e.O()}]);