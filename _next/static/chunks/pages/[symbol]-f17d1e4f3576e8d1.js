(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6189],{26783:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[symbol]",function(){return n(90387)}])},7191:function(e,s,n){"use strict";var t=n(85893);n(67294);var l=n(3125),a=n(74089);s.Z=e=>{let{currentRound:s,roundName:n}=e,{data:i}=(0,l.O)(),r=Number("100")||0,d=Number("12")||0,c=i?r-Number(i)%r:0;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("h1",{className:"text-base text-center font-bold",children:[n,"（第 ",(0,t.jsx)("span",{className:"text-red-500",children:Number(null!=s?s:0n)})," 轮）"]}),(0,t.jsxs)("span",{className:"text-sm text-gray-400 mt-1 pt-0",children:["本轮剩余：",(0,t.jsx)(a.Z,{initialTimeLeft:c>0?c*d:0})]})]})}},74080:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return w}});var t=n(85893),l=n(35337),a=n(5028),i=n(67294),r=n(83888),d=n(69205),c=n(19638),x=n(68789),o=n(93778),u=n(91529),m=n(91318);function h(){let{token:e}=(0,i.useContext)(o.M)||{},{totalSupply:s,isPending:n,error:l}=(0,c.A5)((null==e?void 0:e.address)||""),[a,h]=(0,i.useState)(!1);return(null==e?void 0:e.address)?(0,t.jsxs)("div",{className:"p-6 bg-white mb-4",children:[(0,t.jsx)(x.Z,{showGovernanceLink:!0}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsxs)("div",{className:"mr-2",children:[(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"已铸币量: "}),(0,t.jsx)("span",{className:"text-lg font-semibold text-orange-400",children:n?(0,t.jsx)(m.Z,{}):(0,u.LH)(s||0n)})]}),(0,t.jsx)(r.Z,{title:"铸币上限 ".concat(1e10.toLocaleString()),open:a,onClose:()=>{h(!1)},disableHoverListener:!0,disableFocusListener:!0,disableTouchListener:!0,children:(0,t.jsx)("button",{className:"btn btn-circle btn-ghost btn-xs text-gray-400",onClick:()=>{h(e=>!e)},children:(0,t.jsx)(d.Z,{})})})]})]}):(0,t.jsx)("div",{children:"Loading token information..."})}var j=n(7399),N=n(7191),f=e=>{let{currentRound:s}=e,{token:n}=(0,i.useContext)(o.M)||{},{rewardAvailable:l,isPending:r,error:d}=(0,j.CY)((null==n?void 0:n.address)||""),{joinedAmount:c,isPending:x,error:h}=(0,a.fP)((null==n?void 0:n.address)||"",s);return(0,t.jsxs)("div",{className:"flex flex-col items-center p-6 bg-white",children:[(0,t.jsx)(N.Z,{currentRound:s,roundName:"行动轮"}),(0,t.jsxs)("div",{className:"flex w-full justify-center space-x-20 mt-4",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"预计新增铸币"}),(0,t.jsx)("span",{className:"text-2xl font-bold text-orange-400",children:r||void 0===l?(0,t.jsx)(m.Z,{}):(0,u.LH)(99n*l/10000n)})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"参与行动代币"}),(0,t.jsx)("span",{className:"text-2xl font-bold text-orange-400",children:x?(0,t.jsx)(m.Z,{}):(0,u.LH)(c||BigInt(0))})]})]})]})},v=n(41664),b=n.n(v),g=n(45551),p=n(94782),y=e=>{let{currentRound:s}=e,{token:n}=(0,i.useContext)(o.M)||{},{actions:l,isPending:a,error:r}=(0,g.jA)((null==n?void 0:n.address)||"",s);null==l||l.sort((e,s)=>Number(e.actionId)-Number(s.actionId));let d=null==l?void 0:l.map(e=>e.actionId),c=(null==l?void 0:l.reduce((e,s)=>e+s.votesNum,0n))||0n,{actionInfos:x,isPending:h,error:j}=(0,p.fT)((null==n?void 0:n.address)||"",d||[]);return a||d&&d.length>0&&h?(0,t.jsx)("div",{className:"p-4 flex justify-center items-center",children:(0,t.jsx)(m.Z,{})}):r||j?(0,t.jsx)("div",{children:"加载出错，请稍后再试。"}):(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("h2",{className:"text-sm font-bold mb-4 text-gray-600",children:"行动列表 (行动轮)"}),(null==d?void 0:d.length)?(0,t.jsx)("div",{className:"space-y-4",children:null==x?void 0:x.map((e,s)=>(0,t.jsx)("div",{className:"bg-white p-4 rounded-lg mb-4",children:(0,t.jsxs)(b(),{href:"/".concat(null==n?void 0:n.symbol,"/action/").concat(e.head.id,"?type=join"),children:[(0,t.jsxs)("div",{className:"font-semibold mb-2",children:[(0,t.jsx)("span",{className:"text-gray-400 text-base mr-1",children:"No.".concat(e.head.id)}),(0,t.jsx)("span",{className:"text-gray-800 text-lg",children:"".concat(e.body.action)})]}),(0,t.jsx)("p",{className:"leading-tight",children:e.body.consensus}),(0,t.jsxs)("div",{className:"flex justify-between mt-1",children:[(0,t.jsxs)("span",{className:"text-sm",children:["投票占比 ",(100*Number((null==l?void 0:l[s].votesNum)||0n)/Number(c)).toFixed(1),"%"]}),(0,t.jsxs)("span",{className:"text-sm",children:["已参与行动代币 ",(0,u.LH)((null==l?void 0:l[s].joinedAmount)||0n)]})]})]},e.head.id)},e.head.id))}):(0,t.jsx)("div",{className:"text-sm text-gray-500 text-center",children:"没有行动"})]})},w=()=>{let{currentRound:e}=(0,a.Bk)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.Z,{title:"社区首页"}),(0,t.jsxs)("main",{className:"flex-grow",children:[(0,t.jsx)(h,{}),(0,t.jsx)(f,{currentRound:e}),(0,t.jsx)(y,{currentRound:e})]})]})}},90387:function(e,s,n){"use strict";n.r(s);var t=n(85893),l=n(67294),a=n(93778),i=n(91318),r=n(74080),d=n(645);s.default=()=>{let{token:e}=(0,l.useContext)(a.M)||{};return e?e.hasEnded?(0,t.jsx)(r.default,{}):(0,t.jsx)(d.default,{}):(0,t.jsx)(i.Z,{})}}},function(e){e.O(0,[9689,8424,6601,3844,7140,9638,2624,3511,7399,645,2888,9774,179],function(){return e(e.s=26783)}),_N_E=e.O()}]);