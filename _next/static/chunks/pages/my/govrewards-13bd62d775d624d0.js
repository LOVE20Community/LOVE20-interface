(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9280],{37162:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/my/govrewards",function(){return n(27029)}])},91318:function(e,r,n){"use strict";var s=n(85893);r.Z=()=>(0,s.jsx)("span",{className:"flex justify-center items-center",children:(0,s.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-3 text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]})})},35337:function(e,r,n){"use strict";n.d(r,{Z:function(){return u}});var s=n(85893),t=n(9008),a=n.n(t),i=n(67294),l=n(91428),c=n(41664),d=n.n(c),o=()=>{let[e,r]=(0,i.useState)(!1);return(0,s.jsxs)("div",{children:[(0,s.jsxs)("button",{className:"ml-4 mt-2 focus:outline-none",onClick:()=>{r(!e)},children:[(0,s.jsx)("div",{className:"w-6 h-1 bg-black mb-1"}),(0,s.jsx)("div",{className:"w-6 h-1 bg-black mb-1"}),(0,s.jsx)("div",{className:"w-6 h-1 bg-black"})]}),e&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>{r(!1)}}),(0,s.jsx)("div",{className:"fixed top-0 left-0 z-50 h-full w-64 bg-gray-800 text-white transform ".concat(e?"translate-x-0":"-translate-x-full"," transition-transform duration-300 ease-in-out"),children:(0,s.jsxs)("ul",{className:"mt-8",children:[(0,s.jsx)("li",{className:"p-4 hover:bg-gray-700",children:(0,s.jsx)(d(),{href:"/",children:(0,s.jsx)("span",{children:"社区首页"})})}),(0,s.jsx)("li",{className:"p-4 hover:bg-gray-700",children:(0,s.jsx)(d(),{href:"/gov",children:(0,s.jsx)("span",{children:"治理首页"})})}),(0,s.jsx)("li",{className:"p-4 hover:bg-gray-700",children:(0,s.jsx)(d(),{href:"/my",children:(0,s.jsx)("span",{children:"我的首页"})})}),(0,s.jsx)("li",{className:"p-4 hover:bg-gray-700",children:(0,s.jsx)(d(),{href:"/launch",children:(0,s.jsx)("span",{children:"发射平台"})})}),(0,s.jsx)("li",{className:"p-4 hover:bg-gray-700",children:(0,s.jsx)(d(),{href:"/dex/swap",children:(0,s.jsx)("span",{children:"交易代币"})})}),(0,s.jsx)("li",{className:"p-4 hover:bg-gray-700",children:(0,s.jsx)(d(),{href:"/launch/deposit",children:(0,s.jsxs)("span",{children:["兑换","ETH20"]})})})]})})]})},u=e=>{let{title:r}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(a(),{children:[(0,s.jsx)("title",{children:"".concat(r," - LIFE20")}),(0,s.jsx)("meta",{name:"".concat(r," - LIFE20"),content:"A Web3 DApp for Life20 token management"})]}),(0,s.jsxs)("header",{className:"flex justify-between items-center p-4 bg-white",children:[(0,s.jsx)(o,{}),(0,s.jsx)(l.NL,{})]})]})}},91529:function(e,r,n){"use strict";n.d(r,{LH:function(){return i},Vu:function(){return a},bM:function(){return c},vz:function(){return l}});var s=n(21803),t=n(15229);let a=e=>e?"".concat(e.substring(0,6),"...").concat(e.substring(e.length-4)):"",i=e=>{let r=c(e);return new Intl.NumberFormat("en-US",{maximumFractionDigits:2}).format(Number(r))},l=e=>{let r=parseInt("18",10);return(0,s.v)(e,r)},c=e=>{let r=parseInt("18",10);return(0,t.b)(e,r)}},27029:function(e,r,n){"use strict";n.r(r);var s=n(85893),t=n(67294),a=n(92321),i=n(93778),l=n(45551),c=n(7399),d=n(91529),o=n(35337),u=n(91318);r.default=()=>{let{token:e}=(0,t.useContext)(i.M)||{},{address:r}=(0,a.m)(),{currentRound:n}=(0,c.Bk)(),h=n?n-1n:0n,{rewards:x,isPending:m,error:f}=(0,l.Ci)(null==e?void 0:e.address,r,h,h>20n?h-20n:0n),[b,j]=(0,t.useState)([]);(0,t.useEffect)(()=>{x&&j([...x].sort((e,r)=>e.round>r.round?-1:1))},[x]);let{mintGovReward:g,isWriting:p,isConfirming:N,isConfirmed:v,writeError:w}=(0,c.xg)();(0,t.useEffect)(()=>{v&&j(e=>e.map(e=>e.unminted>0n?{...e,unminted:0n}:e))},[v]);let y=async n=>{(null==e?void 0:e.address)&&r&&await g(e.address,n)};return m?(0,s.jsx)(u.Z,{}):f?(0,s.jsxs)("div",{className:"text-red-500",children:["发生错误: ",f.message]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.Z,{title:"行动详情"}),(0,s.jsx)("main",{className:"flex-grow",children:(0,s.jsxs)("div",{className:"flex flex-col space-y-6 p-4 bg-white border-t border-gray-100",children:[(0,s.jsx)("h2",{className:"relative pl-4 text-gray-700 text-base font-medium before:content-[''] before:absolute before:left-0 before:top-0 before:bottom-0 before:w-1 before:bg-red-500",children:"铸造治理奖励"}),(0,s.jsxs)("table",{className:"table w-full table-auto",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b border-gray-100",children:[(0,s.jsx)("th",{children:"轮次"}),(0,s.jsx)("th",{children:"奖励"}),(0,s.jsx)("th",{})]})}),(0,s.jsx)("tbody",{children:b.map(e=>(0,s.jsxs)("tr",{className:"border-b border-gray-100",children:[(0,s.jsx)("td",{children:e.round.toString()}),(0,s.jsx)("td",{children:(0,d.LH)(e.unminted)}),(0,s.jsx)("td",{children:e.unminted>0n?(0,s.jsx)("button",{className:"btn btn-sm ".concat(p||N?"btn-disabled":"btn-primary"),onClick:()=>y(e.round),disabled:p||N,children:p||N?"领取中...":"领取"}):e.minted>0n?(0,s.jsx)("span",{className:"text-green-500",children:"已领取"}):(0,s.jsx)("span",{className:"text-gray-500",children:"无奖励"})})]},e.round.toString()))})]}),w&&(0,s.jsxs)("div",{className:"text-red-500 mt-2",children:["领取失败: ",w.message]})]})})]})}},21803:function(e,r,n){"use strict";function s(e,r){let[n,s="0"]=e.split("."),t=n.startsWith("-");if(t&&(n=n.slice(1)),s=s.replace(/(0+)$/,""),0===r)1===Math.round(Number(`.${s}`))&&(n=`${BigInt(n)+1n}`),s="";else if(s.length>r){let[e,t,a]=[s.slice(0,r-1),s.slice(r-1,r),s.slice(r)],i=Math.round(Number(`${t}.${a}`));(s=i>9?`${BigInt(e)+BigInt(1)}0`.padStart(e.length+1,"0"):`${e}${i}`).length>r&&(s=s.slice(1),n=`${BigInt(n)+1n}`),s=s.slice(0,r)}else s=s.padEnd(r,"0");return BigInt(`${t?"-":""}${n}${s}`)}n.d(r,{v:function(){return s}})},89810:function(e,r,n){"use strict";n.d(r,{u:function(){return c}});var s=n(37003),t=n(36100),a=n(82451),i=n(82002),l=n(37122);function c(e={}){let{abi:r,address:n,functionName:c,query:d={}}=e,o=e.code,u=(0,l.Z)(e),h=(0,i.x)({config:u}),x=function(e,r={}){return{async queryFn({queryKey:n}){let t=r.abi;if(!t)throw Error("abi is required");let{functionName:a,scopeKey:i,...l}=n[1],c=(()=>{let e=n[1];if(e.address)return{address:e.address};if(e.code)return{code:e.code};throw Error("address or code is required")})();if(!a)throw Error("functionName is required");return(0,s.L)(e,{abi:t,functionName:a,args:l.args,...c,...l})},queryKey:function(e={}){let{abi:r,...n}=e;return["readContract",(0,t.OP)(n)]}(r)}}(u,{...e,chainId:e.chainId??h}),m=!!((n||o)&&r&&c&&(d.enabled??!0));return(0,a.aM)({...d,...x,enabled:m,structuralSharing:d.structuralSharing??t.if})}}},function(e){e.O(0,[9215,5551,7399,2888,9774,179],function(){return e(e.s=37162)}),_N_E=e.O()}]);