(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[788],{68786:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/launch",function(){return t(17607)}])},27460:function(e,s,t){"use strict";var a=t(85893),l=t(86501),n=t(74855),c=t(18289),r=t(91529);s.Z=e=>{let{address:s,showCopyButton:t=!0,showAddress:i=!0,colorClassName:d=""}=e;return(0,a.jsxs)("span",{className:"flex items-center space-x-2",children:[i&&(0,a.jsx)("span",{className:"text-xs ".concat(null!=d?d:"text-greyscale-500"),children:(0,r.Vu)(s)}),t&&(0,a.jsx)(n.CopyToClipboard,{text:s,onCopy:(e,s)=>{s?l.ZP.success("复制成功"):l.ZP.error("复制失败")},children:(0,a.jsx)("button",{className:"flex items-center justify-center p-1 rounded hover:bg-gray-200 focus:outline-none",onClick:e=>{e.preventDefault(),e.stopPropagation()},"aria-label":"复制地址",children:(0,a.jsx)(c.Z,{className:"h-4 w-4 ".concat(null!=d?d:"text-greyscale-500")})})})]})}},44576:function(e,s,t){"use strict";var a=t(85893);t(67294);var l=t(23432);s.Z=e=>{let{isLoading:s,text:t="Loading"}=e;return s?(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gray-900 bg-opacity-50",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(l.Z,{className:"mx-auto h-8 w-8 animate-spin text-white"}),(0,a.jsx)("p",{className:"mt-2 text-sm font-medium text-white",children:t})]})}):null}},17607:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return C}});var a=t(85893),l=t(67294),n=t(93778),c=t(70019),r=t(67068),i=t(37436),d=t(42083),o=t(91529),x=t(42757),m=t(37413),h=t(74089),u=e=>{let{token:s,launchInfo:t}=e,{data:l}=(0,x.O)(),n=l?t.secondHalfMinBlocks-(l-t.secondHalfStartBlock):0,c=n>0?Number(n)*Number("12"):0,r=Number(t.totalContributed)/Number(t.parentTokenFundraisingGoal),i=(100*r).toFixed(1);return t?s?(0,a.jsxs)("div",{className:"flex-col items-center px-4",children:[(0,a.jsxs)("div",{className:"stats w-full grid grid-cols-2 divide-x-0",children:[(0,a.jsxs)("div",{className:"stat place-items-center",children:[(0,a.jsxs)("div",{className:"stat-title text-sm",children:[(0,a.jsxs)("span",{className:"text-secondary",children:[s.symbol," "]}),"发射总量"]}),(0,a.jsx)("div",{className:"stat-value text-xl",children:"".concat((0,o.LH)(BigInt(m.v.fairLaunch)))})]}),(0,a.jsxs)("div",{className:"stat place-items-center",children:[(0,a.jsxs)("div",{className:"stat-title text-sm",children:[(0,a.jsxs)("span",{className:"text-secondary",children:[s.parentTokenSymbol," "]}),"筹集目标"]}),(0,a.jsx)("div",{className:"stat-value text-xl",children:(0,o.LH)(t.parentTokenFundraisingGoal)})]})]}),(0,a.jsx)("div",{className:"stats w-full border",children:(0,a.jsxs)("div",{className:"stat place-items-center",children:[(0,a.jsx)("div",{className:"stat-title text-sm mr-6 ".concat(t.hasEnded?"text-secondary":""),children:t.hasEnded?"发射已结束":"已筹集到"}),(0,a.jsxs)("div",{className:"stat-value",children:[t.hasEnded&&(0,a.jsx)("span",{className:"text-greyscale-500 font-normal text-sm mr-2",children:"共筹得"}),(0,a.jsx)("span",{className:"".concat(t.hasEnded?"":"text-secondary"),children:(0,o.LH)(t.totalContributed)}),(0,a.jsx)("span",{className:"text-greyscale-500 font-normal text-sm ml-2",children:s.parentTokenSymbol})]}),(0,a.jsxs)("div",{className:"stat-desc pt-2",children:[t.hasEnded&&"超出筹集目标的 ".concat(s.parentTokenSymbol," 在申领时退还"),!t.hasEnded&&r<.5&&"已筹集".concat(i,"%，达到 50% 开始倒计时"),!t.hasEnded&&r>=.5&&n<=0&&"已筹集".concat(i,"%，达到 100% 即结束发射"),!t.hasEnded&&r>=.5&&n>0&&(0,a.jsxs)(a.Fragment,{children:[r<1?"发射结束至少要":"距离发射结束","：",(0,a.jsx)(h.Z,{initialTimeLeft:c})]})]})]})}),(0,a.jsxs)("div",{className:"bg-gray-100 text-greyscale-500 rounded-lg p-4 mt-4 text-sm",children:[(0,a.jsx)("p",{className:"mb-1 font-medium",children:"经济模型："}),(0,a.jsxs)("p",{children:["1. 代币总量：",(0,o.LH)(BigInt(m.v.totalSupply))]}),(0,a.jsxs)("p",{children:["2. 发射数量：",(0,o.LH)(BigInt(m.v.fairLaunch))," (10%)"]}),(0,a.jsxs)("p",{children:["3. 治理激励：",(0,o.LH)(BigInt(m.v.govRewards))," (45%)"]}),(0,a.jsxs)("p",{children:["4. 行动激励：",(0,o.LH)(BigInt(m.v.actionRewards))," (45%)"]}),(0,a.jsx)("p",{className:"mt-2 mb-1 font-medium",children:"发射规则："}),(0,a.jsx)("p",{children:"1. 代币发放：按申购数量占比比例发放"}),(0,a.jsx)("p",{children:"2. 超过募集目标的父币，将按申购比例返还"})]})]}):(0,a.jsx)(d.Z,{}):(0,a.jsx)("div",{className:"text-red-500",children:"找不到发射信息"})},j=t(27245),N=t(92321),v=t(41664),f=t.n(v),p=t(64777),y=e=>{let{token:s,launchInfo:t}=e,{address:n}=(0,N.m)(),{contributed:i,isPending:d,error:x}=(0,c.ap)(null==s?void 0:s.address,n);if(!s)return"";let{handleContractError:m}=(0,r.S)();return(0,l.useEffect)(()=>{x&&m(x,"launch")},[x]),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)(p.Z,{title:"参与申购"}),(0,a.jsx)("div",{className:"stats w-full",children:(0,a.jsxs)("div",{className:"stat place-items-center",children:[(0,a.jsx)("div",{className:"stat-title text-sm mr-6",children:"我的申购质押"}),(0,a.jsxs)("div",{className:"stat-value text-secondary",children:[(0,o.LH)(i||0n),(0,a.jsx)("span",{className:"text-greyscale-500 font-normal text-sm ml-2",children:s.parentTokenSymbol})]})]})}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(j.z,{variant:"outline",size:"sm",className:"w-1/2 text-secondary border-secondary",asChild:!0,children:(0,a.jsx)(f(),{href:"/launch/contribute?symbol=".concat(s.symbol),children:"去申购"})})})]})},b=t(86501),g=t(44576),w=e=>{let{token:s,launchInfo:t}=e,{address:i}=(0,N.m)(),{setToken:x}=(0,l.useContext)(n.M)||{},{contributed:h,isPending:u,error:v}=(0,c.ap)(null==s?void 0:s.address,i),{claimed:y,isPending:w,error:E}=(0,c.ur)(null==s?void 0:s.address,i),{extraRefunded:k,isPending:Z,error:C}=(0,c.Vh)(null==s?void 0:s.address,i),L=t.totalContributed?BigInt(m.v.fairLaunch)*(h||0n)/BigInt(t.totalContributed):0n,{claim:T,isWriting:H,writeError:P,isConfirming:z,isConfirmed:_}=(0,c.z7)(),I=async()=>{try{await T(null==s?void 0:s.address)}catch(e){console.error("领取失败:",e)}};(0,l.useEffect)(()=>{_?(b.ZP.success("领取成功"),null==x||x({...s,hasEnded:!0}),setTimeout(()=>{window.location.reload()},2e3)):P&&b.ZP.error("领取失败")},[_,P]);let{handleContractError:S}=(0,r.S)();return((0,l.useEffect)(()=>{P&&S(P,"launch"),E&&S(E,"launch"),C&&S(C,"launch"),v&&S(v,"launch")},[P,E,C,v]),i)?w?(0,a.jsx)(d.Z,{}):(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)(p.Z,{title:"我的领取"}),(0,a.jsx)("div",{className:"stats w-full border mt-4",children:(0,a.jsxs)("div",{className:"stat place-items-center",children:[(0,a.jsx)("div",{className:"stat-title text-sm mr-6",children:"共获得"}),(0,a.jsxs)("div",{className:"stat-value text-secondary",children:[(0,o.LH)(L),(0,a.jsx)("span",{className:"text-greyscale-500 font-normal text-sm ml-2",children:s.symbol})]})]})}),(0,a.jsxs)("div",{className:"stats w-full grid grid-cols-2 divide-x-0",children:[(0,a.jsx)("div",{className:"stat place-items-center",children:(0,a.jsxs)("div",{className:"stat-value text-xl",children:[(0,a.jsx)("span",{className:"text-sm font-normal text-greyscale-500",children:"质押 "}),(0,o.LH)(h||0n),u?(0,a.jsx)(d.Z,{}):(0,a.jsx)("span",{className:"text-sm font-normal text-greyscale-500 ml-1",children:null==s?void 0:s.parentTokenSymbol})]})}),(0,a.jsx)("div",{className:"stat place-items-center",children:(0,a.jsxs)("div",{className:"stat-value text-xl",children:[(0,a.jsx)("span",{className:"text-sm font-normal text-greyscale-500",children:"退回 "}),(0,o.LH)(k||0n),Z?(0,a.jsx)(d.Z,{}):(0,a.jsx)("span",{className:"text-sm font-normal text-greyscale-500 ml-1",children:null==s?void 0:s.parentTokenSymbol})]})})]}),(0,a.jsxs)("div",{className:"flex justify-center space-x-4",children:[0>=Number(h)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.z,{className:"w-1/2",disabled:!0,children:"未申购"}),(0,a.jsx)(j.z,{className:"w-1/2",asChild:!0,children:(0,a.jsx)(f(),{href:"/launch/burn?symbol=".concat(null==s?void 0:s.symbol),children:"底池销毁"})})]}),Number(h)>0&&!y&&(0,a.jsx)(j.z,{className:"w-1/2",onClick:I,disabled:H||z||_,children:H?"领取中...":z?"确认中...":_?"已领取":"领取"}),Number(h)>0&&y&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.z,{className:"w-1/2",disabled:!0,children:"已领取"}),(0,a.jsx)(j.z,{className:"w-1/2",asChild:!0,children:(0,a.jsx)(f(),{href:"/launch/burn?symbol=".concat(null==s?void 0:s.symbol),children:"底池销毁"})})]})]}),(0,a.jsx)(g.Z,{isLoading:H||z,text:H?"提交交易...":"确认交易..."})]}):""},E=t(4062);let k=(0,t(31134).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var Z=e=>{let{token:s,launchInfo:t}=e;return(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)(p.Z,{title:"部署子币"}),(0,a.jsx)("div",{className:"w-full text-center",children:(0,a.jsx)(j.z,{variant:"outline",size:"sm",className:"mt-2 w-1/2 text-secondary border-secondary",asChild:!0,children:(0,a.jsxs)(f(),{href:"/launch/deploy?symbol=".concat(null==s?void 0:s.symbol),children:[(0,a.jsx)(k,{className:"w-4 h-4"}),"去部署"]})})}),(0,a.jsxs)("div",{className:"bg-gray-100 text-greyscale-500 rounded-lg p-4 text-sm mt-4",children:[(0,a.jsx)("p",{className:"mb-1",children:"说明："}),(0,a.jsxs)("p",{children:["1. 部署者：须持有$",null==s?void 0:s.symbol,"不少于 0.5%的治理票"]}),(0,a.jsxs)("p",{children:["2. 子币发射目标：须筹集 20,000,000个 ",null==s?void 0:s.symbol]})]})]})};function C(){let{token:e,setToken:s}=(0,l.useContext)(n.M)||{token:null,setToken:null},{launchInfo:t,isPending:o,error:x}=(0,c.zL)(e?e.address:"0x0"),{handleContractError:m}=(0,r.S)();return((0,l.useEffect)(()=>{x&&m(x,"launch")},[x]),(0,l.useEffect)(()=>{t&&e&&t.hasEnded&&!e.hasEnded&&s&&s({...e,hasEnded:!0})},[t,e,s]),o)?(0,a.jsx)(d.Z,{}):t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Z,{title:"公平发射"}),(0,a.jsxs)("main",{className:"flex-grow",children:[(0,a.jsx)(E.Z,{}),(0,a.jsx)(u,{token:e,launchInfo:t}),!t.hasEnded&&e&&(0,a.jsx)(y,{token:e,launchInfo:t}),t.hasEnded&&e&&(0,a.jsx)(w,{token:e,launchInfo:t}),t.hasEnded&&e&&(0,a.jsx)(Z,{token:e,launchInfo:t})]})]}):(0,a.jsx)("div",{className:"text-red-500",children:"找不到发射信息"})}}},function(e){e.O(0,[1664,2209,8710,6242,4637,1492,7807,2888,9774,179],function(){return e(e.s=68786)}),_N_E=e.O()}]);