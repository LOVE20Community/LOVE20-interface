(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7091],{90200:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[symbol]/launch/deposit",function(){return n(41768)}])},27245:function(e,t,n){"use strict";n.d(t,{z:function(){return c}});var s=n(85893),a=n(67294),i=n(88426),r=n(45139),l=n(98997);let o=(0,r.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:n,variant:a,size:r,asChild:c=!1,...d}=e,u=c?i.g7:"button";return(0,s.jsx)(u,{className:(0,l.cn)(o({variant:a,size:r,className:n})),ref:t,...d})});c.displayName="Button"},21774:function(e,t,n){"use strict";n.d(t,{I:function(){return r}});var s=n(85893),a=n(67294),i=n(98997);let r=a.forwardRef((e,t)=>{let{className:n,type:a,...r}=e;return(0,s.jsx)("input",{type:a,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...r})});r.displayName="Input"},98997:function(e,t,n){"use strict";n.d(t,{cn:function(){return i}});var s=n(90512),a=n(98388);function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.m6)((0,s.W)(t))}},91318:function(e,t,n){"use strict";var s=n(85893);t.Z=()=>(0,s.jsx)("span",{className:"flex justify-center items-center",children:(0,s.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-3 text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]})})},35337:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var s=n(85893),a=n(9008),i=n.n(a),r=n(67294),l=n(54705),o=n(41664),c=n.n(o),d=n(93778),u=()=>{let[e,t]=(0,r.useState)(!1),{token:n}=(0,r.useContext)(d.M)||{};return n?(0,s.jsxs)("div",{children:[(0,s.jsxs)("button",{className:"ml-4 mt-2 focus:outline-none",onClick:()=>{t(!e)},children:[(0,s.jsx)("div",{className:"w-6 h-1 bg-black mb-1"}),(0,s.jsx)("div",{className:"w-6 h-1 bg-black mb-1"}),(0,s.jsx)("div",{className:"w-6 h-1 bg-black"})]}),e&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>{t(!1)}}),(0,s.jsx)("div",{className:"fixed top-0 left-0 z-50 h-full w-64 bg-gray-800 text-white transform ".concat(e?"translate-x-0":"-translate-x-full"," transition-transform duration-300 ease-in-out"),children:(0,s.jsxs)("ul",{className:"mt-8",children:[(0,s.jsx)("li",{className:"p-4 hover:bg-gray-700",children:(0,s.jsx)(c(),{href:"/".concat(n.symbol,"/acting"),children:(0,s.jsx)("span",{children:"社区首页"})})}),(0,s.jsx)("li",{className:"p-4 hover:bg-gray-700",children:(0,s.jsx)(c(),{href:"/".concat(n.symbol,"/gov"),children:(0,s.jsx)("span",{children:"治理首页"})})}),(0,s.jsx)("li",{className:"p-4 hover:bg-gray-700",children:(0,s.jsx)(c(),{href:"/".concat(n.symbol,"/my"),children:(0,s.jsx)("span",{children:"我的首页"})})}),(0,s.jsx)("li",{className:"p-4 hover:bg-gray-700",children:(0,s.jsx)(c(),{href:"/tokens",children:(0,s.jsx)("span",{children:"所有代币"})})}),(0,s.jsx)("li",{className:"p-4 hover:bg-gray-700",children:(0,s.jsx)(c(),{href:"/".concat(n.symbol,"/launch"),children:(0,s.jsx)("span",{children:"发射平台"})})}),(0,s.jsx)("li",{className:"p-4 hover:bg-gray-700",children:(0,s.jsx)(c(),{href:"/".concat(n.symbol,"/dex/swap"),children:(0,s.jsx)("span",{children:"交易代币"})})}),(0,s.jsx)("li",{className:"p-4 hover:bg-gray-700",children:(0,s.jsx)(c(),{href:"/".concat(n.symbol,"/launch/deposit"),children:(0,s.jsxs)("span",{children:["兑换","ETH20"]})})})]})})]}):""},p=e=>{let{title:t}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i(),{children:[(0,s.jsx)("title",{children:"".concat(t," - LIFE20")}),(0,s.jsx)("meta",{name:"".concat(t," - LIFE20"),content:"A Web3 DApp for Life20 token management"})]}),(0,s.jsxs)("header",{className:"flex justify-between items-center p-4 bg-white border-b border-gray-100",children:[(0,s.jsx)(u,{}),(0,s.jsx)(l.NL,{})]})]})}},91529:function(e,t,n){"use strict";n.d(t,{LH:function(){return r},Vu:function(){return i},ZC:function(){return c},bM:function(){return o},vz:function(){return l}});var s=n(21803),a=n(15229);let i=e=>e?"".concat(e.substring(0,6),"...").concat(e.substring(e.length-4)):"",r=e=>{let t=o(e);return new Intl.NumberFormat("en-US",{maximumFractionDigits:2}).format(Number(t))},l=e=>{let t=parseInt("18",10);return(0,s.v)(e,t)},o=e=>{let t=parseInt("18",10);return(0,a.b)(e,t)},c=e=>e>86400?"".concat(Math.floor(e/86400),"天").concat(Math.floor(e%86400/3600),"小时").concat(Math.floor(e%3600/60),"分"):e>3600?"".concat(Math.floor(e/3600),"小时").concat(Math.floor(e%3600/60),"分"):"".concat(Math.floor(e/60),"分").concat(e%60,"秒")},41768:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var s=n(85893),a=n(35337),i=n(67294),r=n(92321),l=n(3601),o=n(27245),c=n(21774),d=n(11163),u=n(86501),p=n(75593),m=n(83540);let y=[{type:"fallback",stateMutability:"payable"},{type:"function",name:"allowance",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"approve",inputs:[{name:"guy",type:"address",internalType:"address"},{name:"wad",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"balanceOf",inputs:[{name:"",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"decimals",inputs:[],outputs:[{name:"",type:"uint8",internalType:"uint8"}],stateMutability:"view"},{type:"function",name:"deposit",inputs:[],outputs:[],stateMutability:"payable"},{type:"function",name:"name",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"symbol",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"totalSupply",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"transfer",inputs:[{name:"dst",type:"address",internalType:"address"},{name:"wad",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"transferFrom",inputs:[{name:"src",type:"address",internalType:"address"},{name:"dst",type:"address",internalType:"address"},{name:"wad",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"nonpayable"},{type:"function",name:"withdraw",inputs:[{name:"wad",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"Approval",inputs:[{name:"src",type:"address",indexed:!0,internalType:"address"},{name:"guy",type:"address",indexed:!0,internalType:"address"},{name:"wad",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Deposit",inputs:[{name:"dst",type:"address",indexed:!0,internalType:"address"},{name:"wad",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{name:"src",type:"address",indexed:!0,internalType:"address"},{name:"dst",type:"address",indexed:!0,internalType:"address"},{name:"wad",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Withdrawal",inputs:[{name:"src",type:"address",indexed:!0,internalType:"address"},{name:"wad",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],f=()=>{let{writeContract:e,data:t,isPending:n,error:s}=(0,p.S)(),a=async t=>{try{await e({address:"0xc2F9D4CAd67124e86d7a5E7Bcd9DF26259B8c588",abi:y,functionName:"deposit",args:[],value:t})}catch(e){console.error("Deposit failed:",e)}},{isLoading:i,isSuccess:r}=(0,m.A)({hash:t});return{deposit:a,writeData:t,isPending:n,error:s,isConfirming:i,isConfirmed:r}};var b=n(91529),h=n(91318),x=()=>{let[e,t]=(0,i.useState)(""),{address:n}=(0,r.m)(),a=(0,d.useRouter)(),{data:p,error:m,isLoading:y,refetch:x}=(0,l.K)({address:n}),{deposit:g,isPending:v,isConfirming:j,isConfirmed:w,error:N}=f(),T=async()=>{try{await g((0,b.vz)(e))}catch(e){console.error(e)}};return(0,i.useEffect)(()=>{w&&(u.Am.success("兑换成功"),setTimeout(()=>{a.back()},2e3))},[w]),(0,i.useEffect)(()=>{m&&u.Am.error(m.message)},[m]),(0,s.jsxs)("div",{className:"bg-white p-6 shadow-sm space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center mb-2",children:[(0,s.jsxs)("h3",{className:"text-base font-medium",children:["兑换","ETH20"]}),(0,s.jsxs)("span",{className:"text-gray-400 text-sm ml-2",children:["(1",null==p?void 0:p.symbol," = 1","ETH20",")"]})]}),(0,s.jsx)("div",{className:"flex justify-between",children:(0,s.jsx)(c.I,{type:"number",placeholder:"填写 ".concat(null==p?void 0:p.symbol," 数量"),value:e,onChange:e=>t(e.target.value),className:"my-auto",disabled:v||j})}),(0,s.jsxs)("div",{className:"flex items-center text-sm mb-4",children:[(0,s.jsxs)("span",{className:"text-gray-400",children:[y?(0,s.jsx)(h.Z,{}):(0,b.LH)((null==p?void 0:p.value)||0n)," ",null==p?void 0:p.symbol]}),(0,s.jsx)(o.z,{variant:"link",size:"sm",onClick:()=>{t((0,b.bM)((null==p?void 0:p.value)||0n))},className:"text-blue-600",disabled:y||v||j,children:"最高"})]}),(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)(o.z,{className:"w-1/2 text-white py-2 rounded-lg ".concat(v||j?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"),onClick:T,disabled:v||j||w,children:v||j?"兑换中...":w?"兑换成功":"兑换"})}),m&&(0,s.jsx)("div",{className:"text-red-500",children:m.message}),N&&(0,s.jsx)("div",{className:"text-red-500",children:N.message})]})};function g(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.Z,{title:"Launch"}),(0,s.jsx)("main",{className:"flex-grow",children:(0,s.jsx)(x,{})})]})}},21803:function(e,t,n){"use strict";function s(e,t){let[n,s="0"]=e.split("."),a=n.startsWith("-");if(a&&(n=n.slice(1)),s=s.replace(/(0+)$/,""),0===t)1===Math.round(Number(`.${s}`))&&(n=`${BigInt(n)+1n}`),s="";else if(s.length>t){let[e,a,i]=[s.slice(0,t-1),s.slice(t-1,t),s.slice(t)],r=Math.round(Number(`${a}.${i}`));(s=r>9?`${BigInt(e)+BigInt(1)}0`.padStart(e.length+1,"0"):`${e}${r}`).length>t&&(s=s.slice(1),n=`${BigInt(n)+1n}`),s=s.slice(0,t)}else s=s.padEnd(t,"0");return BigInt(`${a?"-":""}${n}${s}`)}n.d(t,{v:function(){return s}})}},function(e){e.O(0,[9689,8424,2888,9774,179],function(){return e(e.s=90200)}),_N_E=e.O()}]);