(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5075],{22267:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[symbol]/launch/deploy",function(){return r(83351)}])},34680:function(e,t,r){"use strict";r.d(t,{Ol:function(){return c},SZ:function(){return o},Zb:function(){return i},aY:function(){return d},eW:function(){return u},ll:function(){return l}});var n=r(85893),a=r(67294),s=r(40108);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});i.displayName="Card";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",r),...a})});c.displayName="CardHeader";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});l.displayName="CardTitle";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",r),...a})});o.displayName="CardDescription";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",r),...a})});d.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",r),...a})});u.displayName="CardFooter"},23432:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(31134).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},42083:function(e,t,r){"use strict";var n=r(85893);t.Z=()=>(0,n.jsx)("span",{className:"flex justify-center items-center",children:(0,n.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-3 text-greyscale-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]})})},44576:function(e,t,r){"use strict";var n=r(85893);r(67294);var a=r(23432);t.Z=e=>{let{isLoading:t}=e;return t?(0,n.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gray-900 bg-opacity-50",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)(a.Z,{className:"mx-auto h-8 w-8 animate-spin text-white"}),(0,n.jsx)("p",{className:"mt-2 text-sm font-medium text-white",children:"Loading"})]})}):null}},58732:function(e,t,r){"use strict";var n=r(85893),a=r(9008),s=r.n(a);r(67294);var i=r(54705),c=r(78167);t.Z=e=>{let{title:t}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s(),{children:[(0,n.jsx)("title",{children:"".concat(t," - LIFE20")}),(0,n.jsx)("meta",{name:"".concat(t," - LIFE20"),content:"A Web3 DApp for Life20 token management"})]}),(0,n.jsxs)("header",{className:"flex justify-between items-center py-2 px-4",children:[(0,n.jsx)(c.vP,{className:"-ml-1"}),(0,n.jsx)(i.NL,{})]})]})}},83351:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Z}});var n=r(85893),a=r(58732),s=r(67294),i=r(92321),c=r(21774),l=r(27245),o=r(75320),d=s.forwardRef((e,t)=>(0,n.jsx)(o.WV.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));d.displayName="Label";var u=r(12003),f=r(40108);let x=(0,u.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),m=s.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(d,{ref:t,className:(0,f.cn)(x(),r),...a})});m.displayName=d.displayName;var h=r(34680);let p=(0,u.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),w=s.forwardRef((e,t)=>{let{className:r,variant:a,...s}=e;return(0,n.jsx)("div",{ref:t,role:"alert",className:(0,f.cn)(p({variant:a}),r),...s})});w.displayName="Alert";let y=s.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("h5",{ref:t,className:(0,f.cn)("mb-1 font-medium leading-none tracking-tight",r),...a})});y.displayName="AlertTitle";let v=s.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,f.cn)("text-sm [&_p]:leading-relaxed",r),...a})});v.displayName="AlertDescription";let j=(0,r(31134).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var g=r(11163),N=r(70019),b=r(93778),C=r(42083),R=r(44576);function k(){let e=(0,g.useRouter)(),[t,r]=(0,s.useState)(""),[a,o]=(0,s.useState)(""),{isConnected:d}=(0,i.m)(),{deployToken:u,isWriting:f,writeError:x,isConfirming:p,isConfirmed:k,writeData:Z}=(0,N.Ct)();(0,s.useEffect)(()=>{x&&o(x.message||"部署失败")},[x]),(0,s.useEffect)(()=>{k&&e.push("/tokens")},[k]);let{token:F}=(0,s.useContext)(b.M)||{};if(!F)return(0,n.jsx)(C.Z,{});let T=()=>t.length>6?(o("字符串名称，仅限6个byte"),!1):/^[A-Z0-9]+$/.test(t)?!!/^[A-Z]/.test(t)||(o("必须已大写字母A~Z开头"),!1):(o("只能用大写字母A~Z和数字0~9"),!1),_=async()=>{if(o(""),!d){o("请先连接钱包");return}if(!t){o("请输入代币符号");return}if(T())try{await u(t,F.address)}catch(e){o(e.message||"部署失败")}},P=f||p;return(0,n.jsxs)(h.Zb,{className:"w-full border-none shadow-none rounded-none",children:[(0,n.jsx)(R.Z,{isLoading:P}),(0,n.jsxs)(h.Ol,{children:[(0,n.jsx)(h.ll,{className:"text-2xl font-bold text-center",children:"部署子币"}),(0,n.jsxs)(h.SZ,{className:"text-center",children:["创建 ",(0,n.jsx)("span",{className:"text-secondary",children:F.symbol})," 的子币"]})]}),(0,n.jsxs)(h.aY,{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(m,{htmlFor:"symbol",children:"子币符号"}),(0,n.jsx)(c.I,{id:"symbol",placeholder:"大写字母A~Z和数字0~9，6个字符，例如: LIFE20",value:t,onChange:e=>r(e.target.value)})]}),a&&(0,n.jsxs)(w,{variant:"destructive",children:[(0,n.jsx)(j,{className:"h-4 w-4"}),(0,n.jsx)(y,{children:"错误"}),(0,n.jsx)(v,{children:a})]}),k&&(0,n.jsxs)(w,{children:[(0,n.jsx)(j,{className:"h-4 w-4"}),(0,n.jsx)(y,{children:"成功"}),(0,n.jsx)(v,{children:"代币部署成功！"})]})]}),(0,n.jsx)(h.eW,{children:(0,n.jsx)(l.z,{className:"w-full",onClick:_,disabled:P||!d||k,children:P?(0,n.jsx)(n.Fragment,{children:"部署中..."}):"提交"})})]})}function Z(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.Z,{title:"Launch"}),(0,n.jsx)("main",{className:"flex-grow",children:(0,n.jsx)(k,{})})]})}},9008:function(e,t,r){e.exports=r(23867)},96128:function(e,t,r){"use strict";r.d(t,{T:function(){return p}});var n=r(14503),a=r(8998),s=r(33840),i=r(26445),c=r(33639),l=r(87469),o=r(61163),d=r(74688),u=r(93714),f=r(47531),x=r(79524),m=r(76404),h=r(99238);async function p(e,t){let{account:r=e.account,chain:p=e.chain,accessList:w,blobs:y,data:v,gas:j,gasPrice:g,maxFeePerBlobGas:N,maxFeePerGas:b,maxPriorityFeePerGas:C,nonce:R,to:k,value:Z,...F}=t;if(!r)throw new a.o({docsPath:"/docs/actions/wallet/sendTransaction"});let T=(0,n.T)(r);try{let r;if((0,f.F)(t),null!==p&&(r=await (0,u.s)(e,x.L,"getChainId")({}),(0,s.q)({currentChainId:r,chain:p})),"local"===T.type){let t=await (0,u.s)(e,m.Z,"prepareTransactionRequest")({account:T,accessList:w,blobs:y,chain:p,chainId:r,data:v,gas:j,gasPrice:g,maxFeePerBlobGas:N,maxFeePerGas:b,maxPriorityFeePerGas:C,nonce:R,parameters:[...m.Q,"sidecars"],to:k,value:Z,...F}),n=p?.serializers?.transaction,a=await T.signTransaction(t,{serializer:n});return await (0,u.s)(e,h.p,"sendRawTransaction")({serializedTransaction:a})}let n=e.chain?.formatters?.transactionRequest?.format,a=(n||d.tG)({...(0,o.K)(F,{format:n}),accessList:w,blobs:y,chainId:r,data:v,from:T.address,gas:j,gasPrice:g,maxFeePerBlobGas:N,maxFeePerGas:b,maxPriorityFeePerGas:C,nonce:R,to:k,value:Z});return await e.request({method:"eth_sendTransaction",params:[a]},{retryCount:0})}catch(e){throw function(e,{docsPath:t,...r}){let n=(()=>{let t=(0,l.k)(e,r);return t instanceof i.cj?e:t})();return new c.mk(n,{docsPath:t,...r})}(e,{...t,account:T,chain:t.chain||void 0})}}},61877:function(e,t,r){"use strict";r.d(t,{n:function(){return i}});var n=r(55629),a=r(93714),s=r(96128);async function i(e,t){let{abi:r,address:i,args:c,dataSuffix:l,functionName:o,...d}=t,u=(0,n.R)({abi:r,args:c,functionName:o});return(0,a.s)(e,s.T,"sendTransaction")({data:`${u}${l?l.replace("0x",""):""}`,to:i,...d})}},33840:function(e,t,r){"use strict";r.d(t,{q:function(){return a}});var n=r(80377);function a({chain:e,currentChainId:t}){if(!e)throw new n.Bk;if(t!==e.id)throw new n.Yl({chain:e,currentChainId:t})}},83540:function(e,t,r){"use strict";r.d(t,{A:function(){return x}});var n=r(95946),a=r(51973),s=r(23147),i=r(36083),c=r(81946);async function l(e,t){let{chainId:r,timeout:l=0,...o}=t,d=e.getClient({chainId:r}),u=(0,c.s)(d,a.e,"waitForTransactionReceipt"),f=await u({...o,timeout:l});if("reverted"===f.status){let e=(0,c.s)(d,s.f,"getTransaction"),t=await e({hash:f.transactionHash}),r=(0,c.s)(d,i.R,"call"),a=await r({...t,data:t.input,gasPrice:"eip1559"!==t.type?t.gasPrice:void 0,maxFeePerGas:"eip1559"===t.type?t.maxFeePerGas:void 0,maxPriorityFeePerGas:"eip1559"===t.type?t.maxPriorityFeePerGas:void 0});throw Error(a?.data?(0,n.rR)(`0x${a.data.substring(138)}`):"unknown reason")}return{...f,chainId:d.chain.id}}var o=r(36100),d=r(82451),u=r(82002),f=r(37122);function x(e={}){let{hash:t,query:r={}}=e,n=(0,f.Z)(e),a=(0,u.x)({config:n}),s=function(e,t={}){return{async queryFn({queryKey:r}){let{hash:n,...a}=r[1];if(!n)throw Error("hash is required");return l(e,{...a,onReplaced:t.onReplaced,hash:n})},queryKey:function(e={}){let{onReplaced:t,...r}=e;return["waitForTransactionReceipt",(0,o.OP)(r)]}(t)}}(n,{...e,chainId:e.chainId??a}),i=!!(t&&(r.enabled??!0));return(0,d.aM)({...r,...s,enabled:i})}},75593:function(e,t,r){"use strict";r.d(t,{S:function(){return f}});var n=r(98029),a=r(61877),s=r(81946),i=r(52425),c=r(75230),l=r(66432);async function o(e,t){let r;let{abi:n,chainId:a,connector:i,...o}=t;r=t.account?t.account:(await (0,c.e)(e,{chainId:a,connector:i})).account;let d=e.getClient({chainId:a}),u=(0,s.s)(d,l.a,"simulateContract"),{result:f,request:x}=await u({...o,abi:n,account:r});return{chainId:d.chain.id,result:f,request:{__mode:"prepared",...x,chainId:a}}}async function d(e,t){let r,n;let{account:l,chainId:d,connector:u,__mode:f,...x}=t;r="object"==typeof l&&l?.type==="local"?e.getClient({chainId:d}):await (0,c.e)(e,{account:l??void 0,chainId:d,connector:u});let{connector:m}=(0,i.D)(e);if("prepared"===f||m?.supportsSimulation)n=x;else{let{request:t}=await o(e,{...x,account:l,chainId:d});n=t}let h=(0,s.s)(r,a.n,"writeContract");return await h({...n,...l?{account:l}:{},chain:d?{id:d}:null})}var u=r(37122);function f(e={}){var t;let{mutation:r}=e,a=(t=(0,u.Z)(e),{mutationFn:e=>d(t,e),mutationKey:["writeContract"]}),{mutate:s,mutateAsync:i,...c}=(0,n.D)({...r,...a});return{...c,writeContract:s,writeContractAsync:i}}}},function(e){e.O(0,[19,2888,9774,179],function(){return e(e.s=22267)}),_N_E=e.O()}]);